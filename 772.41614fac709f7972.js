"use strict";(self.webpackChunkFactuvar=self.webpackChunkFactuvar||[]).push([[772],{9772:(Ii,S,c)=>{c.r(S),c.d(S,{ClientesComponent:()=>yi});var p=c(6814),e=c(9212),f=c(95),r=c(5219);var g=c(9862),L=c(3076);let T=(()=>{class i{constructor(t,n){this.http=t,this.userService=n,this.urlAPI="https://localhost:7230/api"}getClientes(){return this.http.get(`${this.urlAPI}/clientes/all`)}getClienteById(t){return this.http.get(`${this.urlAPI}/clientes/${t}`)}getClienteEntreFechas(t,n){return this.http.get(`${this.urlAPI}/clientes/alta-entre-fechas/${t}/${n}`)}addCliente(t){return this.http.post(`${this.urlAPI}/clientes`,t)}updateCliente(t){return this.http.put(`${this.urlAPI}/clientes`,t)}deleteCliente(t){return this.http.delete(`${this.urlAPI}/clientes/${t}`)}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(g.eN),e.LFG(L.K))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var d=c(6825),m=c(707),_=c(2076),y=c(2591),b=c(7778),x=c(4480),u=c(2332);const A=["content"];function O(i,o){1&i&&e.GkF(0)}const F=i=>({$implicit:i});function B(i,o){if(1&i&&(e.ynx(0),e.YNc(1,O,1,0,"ng-container",6),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",e.VKq(2,F,t.confirmation))}}function j(i,o){1&i&&e.GkF(0)}function N(i,o){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,j,1,0,"ng-container",15),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Q(i,o){if(1&i&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.Q6J("id",t.getAriaLabelledBy()),e.xp6(1),e.Oqu(t.option("header"))}}const J=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function V(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(a){e.CHM(t);const s=e.oxw(5);return e.KtG(s.close(a))})("keydown.enter",function(a){e.CHM(t);const s=e.oxw(5);return e.KtG(s.close(a))}),e._UZ(1,"TimesIcon"),e.qZA()}if(2&i){const t=e.oxw(5);e.Q6J("ngClass",e.DdM(2,J)),e.uIk("aria-label",t.closeAriaLabel)}}function P(i,o){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,Q,2,2,"span",16),e.TgZ(2,"div",17),e.YNc(3,V,2,3,"button",18),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.option("header")),e.xp6(2),e.Q6J("ngIf",t.closable)}}function q(i,o){if(1&i&&e._UZ(0,"i",1),2&i){const t=e.oxw(4);e.Tol(t.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function H(i,o){}function z(i,o){1&i&&e.YNc(0,H,0,0,"ng-template")}function R(i,o){if(1&i&&(e.ynx(0),e.YNc(1,z,1,0,null,15),e.BQk()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate)}}function Y(i,o){if(1&i&&e._UZ(0,"span",21),2&i){const t=e.oxw(4);e.Q6J("innerHTML",t.option("message"),e.oJD)}}function $(i,o){}function G(i,o){1&i&&e.YNc(0,$,0,0,"ng-template")}function K(i,o){if(1&i&&(e.ynx(0),e.YNc(1,G,1,0,null,6),e.BQk()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.messageTemplate)("ngTemplateOutletContext",e.VKq(2,F,t.confirmation))}}function W(i,o){1&i&&e.GkF(0)}function X(i,o){if(1&i&&(e.TgZ(0,"div",22),e.Hsn(1),e.YNc(2,W,1,0,"ng-container",15),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}function ee(i,o){if(1&i&&e._UZ(0,"i"),2&i){const t=e.oxw(7);e.Tol(t.option("rejectIcon"))}}function te(i,o){1&i&&e._UZ(0,"TimesIcon",28),2&i&&e.Q6J("styleClass","p-button-icon-left")}function ie(i,o){if(1&i&&(e.ynx(0),e.YNc(1,ee,1,2,"i",26)(2,te,1,1,"TimesIcon",27),e.BQk()),2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf",t.option("rejectIcon")),e.xp6(1),e.Q6J("ngIf",!t.option("rejectIcon"))}}function ne(i,o){}function ae(i,o){1&i&&e.YNc(0,ne,0,0,"ng-template")}function oe(i,o){if(1&i&&(e.TgZ(0,"span",29),e.YNc(1,ae,1,0,null,15),e.qZA()),2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t.rejectIconTemplate)}}function se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.reject())}),e.YNc(1,ie,3,2,"ng-container",11)(2,oe,2,1,"span",25),e.qZA()}if(2&i){const t=e.oxw(5);e.Tol(t.option("rejectButtonStyleClass")),e.Q6J("label",t.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",t.rejectAriaLabel),e.xp6(1),e.Q6J("ngIf",!t.rejectIconTemplate),e.xp6(1),e.Q6J("ngIf",t.rejectIconTemplate)}}function le(i,o){if(1&i&&e._UZ(0,"i"),2&i){const t=e.oxw(7);e.Tol(t.option("acceptIcon"))}}function re(i,o){1&i&&e._UZ(0,"CheckIcon",28),2&i&&e.Q6J("styleClass","p-button-icon-left")}function ce(i,o){if(1&i&&(e.ynx(0),e.YNc(1,le,1,2,"i",26)(2,re,1,1,"CheckIcon",27),e.BQk()),2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf",t.option("acceptIcon")),e.xp6(1),e.Q6J("ngIf",!t.option("acceptIcon"))}}function pe(i,o){}function de(i,o){1&i&&e.YNc(0,pe,0,0,"ng-template")}function _e(i,o){if(1&i&&(e.TgZ(0,"span",29),e.YNc(1,de,1,0,null,15),e.qZA()),2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t.acceptIconTemplate)}}function me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.accept())}),e.YNc(1,ce,3,2,"ng-container",11)(2,_e,2,1,"span",25),e.qZA()}if(2&i){const t=e.oxw(5);e.Tol(t.option("acceptButtonStyleClass")),e.Q6J("label",t.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",t.acceptAriaLabel),e.xp6(1),e.Q6J("ngIf",!t.acceptIconTemplate),e.xp6(1),e.Q6J("ngIf",t.acceptIconTemplate)}}function ue(i,o){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,se,3,7,"button",23)(2,me,3,7,"button",23),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",t.option("acceptVisible"))}}function fe(i,o){if(1&i&&(e.YNc(0,N,2,1,"div",7)(1,P,4,2,"div",7),e.TgZ(2,"div",8,9),e.YNc(4,q,1,3,"i",10)(5,R,2,1,"ng-container",11)(6,Y,1,1,"span",12)(7,K,2,4,"ng-container",11),e.qZA(),e.YNc(8,X,3,1,"div",13)(9,ue,3,2,"div",13)),2&i){const t=e.oxw(3);e.Q6J("ngIf",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(3),e.Q6J("ngIf",!t.iconTemplate&&t.option("icon")),e.xp6(1),e.Q6J("ngIf",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",!t.messageTemplate),e.xp6(1),e.Q6J("ngIf",t.messageTemplate),e.xp6(1),e.Q6J("ngIf",t.footer||t.footerTemplate),e.xp6(1),e.Q6J("ngIf",!t.footer&&!t.footerTemplate)}}const ge=i=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":i}),he=(i,o)=>({transform:i,transition:o}),ve=i=>({value:"visible",params:i});function be(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onAnimationStart(a))})("@animation.done",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onAnimationEnd(a))}),e.YNc(1,B,2,4,"ng-container",4)(2,fe,10,8,"ng-template",null,5,e.W1O),e.qZA()}if(2&i){const t=e.MAs(3),n=e.oxw(2);e.Tol(n.styleClass),e.Q6J("ngClass",e.VKq(9,ge,n.rtl))("ngStyle",n.style)("@animation",e.VKq(14,ve,e.WLB(11,he,n.transformOptions,n.transitionOptions))),e.uIk("aria-labelledby",n.getAriaLabelledBy())("aria-modal",!0),e.xp6(1),e.Q6J("ngIf",n.headlessTemplate)("ngIfElse",t)}}function xe(i,o){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,be,4,16,"div",2),e.qZA()),2&i){const t=e.oxw();e.Tol(t.maskStyleClass),e.Q6J("ngClass",t.getMaskClass()),e.xp6(1),e.Q6J("ngIf",t.visible)}}const Ce=[[["p-footer"]]],Te=["p-footer"],ye=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),Ie=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let we=(()=>{class i{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onHide=new e.vpe;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"message":this.messageTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"rejecticon":this.rejectIconTemplate=t.template;break;case"accepticon":this.acceptIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=(0,u.Th)();confirmationOptions;translationSubscription;constructor(t,n,a,s,l,v,U){this.el=t,this.renderer=n,this.confirmationService=a,this.zone=s,this.cd=l,this.config=v,this.document=U,this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{C?C.key===this.key&&(this.confirmation=C,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return null!==this.header?(0,u.Th)()+"_header":null}option(t){const n=this.confirmationOptions||this;if(n.hasOwnProperty(t))return n[t]}onAnimationStart(t){if("visible"===t.toState){this.container=t.element,this.wrapper=this.container?.parentElement,this.contentContainer=_.p.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const n=this.getElementToFocus();n&&n.focus()}}onAnimationEnd(t){"void"===t.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return _.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return _.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return _.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.wrapper):_.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&_.p.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&_.p.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let t="";for(let n in this.breakpoints)t+=`\n                    @media screen and (max-width: ${n}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[n]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}close(t){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(r.wB.CANCEL),this.hide(r.wB.CANCEL),t.preventDefault()}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(u.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let t={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return t[this.getPositionClass().toString()]=!0,t}getPositionClass(){const n=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(a=>a===this.position);return n?`p-dialog-${n}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",n=>{if(27==n.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===u.P9.get(this.container)&&this.visible&&this.close(n),9===n.which&&this.focusTrap){n.preventDefault();let a=_.p.getFocusableElements(this.container);if(a&&a.length>0)if(a[0].ownerDocument.activeElement){let s=a.indexOf(a[0].ownerDocument.activeElement);n.shiftKey?-1==s||0===s?a[a.length-1].focus():a[s-1].focus():-1==s||s===a.length-1?a[0].focus():a[s+1].focus()}else a[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&u.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(r.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(r.wB.REJECT),this.hide(r.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(r.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(r.ws.REJECT)}static \u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(r.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(r.b4),e.Y36(p.DOCUMENT))};static \u0275cmp=e.Xpm({type:i,selectors:[["p-confirmDialog"]],contentQueries:function(n,a,s){if(1&n&&(e.Suo(s,r.$_,5),e.Suo(s,r.jx,4)),2&n){let l;e.iGM(l=e.CRH())&&(a.footer=l.first),e.iGM(l=e.CRH())&&(a.templates=l)}},viewQuery:function(n,a){if(1&n&&e.Gf(A,5),2&n){let s;e.iGM(s=e.CRH())&&(a.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Te,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["notHeadless",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"ngClass","click","keydown.enter"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"label","ngClass","click"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(n,a){1&n&&(e.F$t(Ce),e.YNc(0,xe,2,4,"div",0)),2&n&&e.Q6J("ngIf",a.maskVisible)},dependencies:()=>[p.NgClass,p.NgIf,p.NgTemplateOutlet,p.NgStyle,m.Hq,x.H,b.q,y.n],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(ye)]),(0,d.eR)("visible => void",[(0,d._7)(Ie)])])]},changeDetection:0})}return i})(),Se=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.CommonModule,m.hJ,x.T,b.q,y.n,m.hJ,r.m8]})}return i})();var I=c(4104),h=c(3370),E=c(7213);function Fe(i,o){1&i&&e.GkF(0)}function Ee(i,o){if(1&i&&(e.TgZ(0,"div",4),e.YNc(1,Fe,1,0,"ng-container",5),e.qZA()),2&i){const t=e.oxw();e.uIk("data-pc-section","start"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.startTemplate)}}function ke(i,o){1&i&&e.GkF(0)}function Me(i,o){if(1&i&&(e.TgZ(0,"div",6),e.YNc(1,ke,1,0,"ng-container",5),e.qZA()),2&i){const t=e.oxw();e.uIk("data-pc-section","center"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.centerTemplate)}}function De(i,o){1&i&&e.GkF(0)}function Ue(i,o){if(1&i&&(e.TgZ(0,"div",7),e.YNc(1,De,1,0,"ng-container",5),e.qZA()),2&i){const t=e.oxw();e.uIk("data-pc-section","end"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.endTemplate)}}const Ze=["*"];let Le=(()=>{class i{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":case"left":this.startTemplate=t.template;break;case"end":case"right":this.endTemplate=t.template;break;case"center":this.centerTemplate=t.template}})}static \u0275fac=function(n){return new(n||i)(e.Y36(e.SBq))};static \u0275cmp=e.Xpm({type:i,selectors:[["p-toolbar"]],contentQueries:function(n,a,s){if(1&n&&e.Suo(s,r.jx,4),2&n){let l;e.iGM(l=e.CRH())&&(a.templates=l)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:Ze,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(n,a){1&n&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Ee,2,2,"div",1)(3,Me,2,2,"div",2)(4,Ue,2,2,"div",3),e.qZA()),2&n&&(e.Tol(a.styleClass),e.Q6J("ngClass","p-toolbar p-component")("ngStyle",a.style),e.uIk("aria-labelledby",a.ariaLabelledBy)("data-pc-name","toolbar"),e.xp6(2),e.Q6J("ngIf",a.startTemplate),e.xp6(1),e.Q6J("ngIf",a.centerTemplate),e.xp6(1),e.Q6J("ngIf",a.endTemplate))},dependencies:[p.NgClass,p.NgIf,p.NgTemplateOutlet,p.NgStyle],styles:["@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}\n"],encapsulation:2,changeDetection:0})}return i})(),Ae=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.CommonModule]})}return i})();var k=c(4713);let Oe=(()=>{class i extends k.s{pathId;ngOnInit(){this.pathId="url(#"+(0,u.Th)()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static \u0275cmp=e.Xpm({type:i,selectors:[["PlusIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,a){1&n&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&n&&(e.Tol(a.getClassNames()),e.uIk("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),e.xp6(1),e.uIk("clip-path",a.pathId),e.xp6(3),e.Q6J("id",a.pathId))},encapsulation:2})}return i})(),Be=(()=>{class i extends k.s{pathId;ngOnInit(){this.pathId="url(#"+(0,u.Th)()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static \u0275cmp=e.Xpm({type:i,selectors:[["UploadIcon"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,a){1&n&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g"),e._UZ(2,"path",1),e.qZA(),e.TgZ(3,"defs")(4,"clipPath",2),e._UZ(5,"rect",3),e.qZA()()()),2&n&&(e.Tol(a.getClassNames()),e.uIk("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),e.xp6(1),e.uIk("clip-path",a.pathId),e.xp6(3),e.Q6J("id",a.pathId))},encapsulation:2})}return i})();var je=c(2736),Ne=c(3823),Qe=c(8468);let M=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.CommonModule,x.T,y.n,Ne.u,Qe.x,je.L,b.q]})}return i})(),D=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.CommonModule]})}return i})(),ai=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.CommonModule,g.JF,r.m8,m.hJ,D,M,x.T,Oe,Be,b.q,r.m8,m.hJ,D,M]})}return i})();var w=c(8337);function oi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"h5",13),e._uU(2,"Clientes"),e.qZA(),e.TgZ(3,"span",14),e._UZ(4,"i",15),e.TgZ(5,"input",16),e.NdJ("input",function(a){e.CHM(t);const s=e.oxw(2),l=e.MAs(2);return e.KtG(l.filterGlobal(s.eventHandler(a),"contains"))}),e.qZA()()()}}function si(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openNew())}),e.qZA(),e.TgZ(1,"button",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.deleteSelectedClients())}),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.selectedClients||!t.selectedClients.length)}}function li(i,o){1&i&&(e.TgZ(0,"p-toolbar",9),e.YNc(1,oi,6,0,"ng-template",10)(2,si,2,1,"ng-template",11),e.qZA())}function ri(i,o){1&i&&(e.TgZ(0,"tr")(1,"th",19),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",20),e._uU(4," CIF "),e._UZ(5,"p-sortIcon",21),e.qZA(),e.TgZ(6,"th",22),e._uU(7," Nombre "),e._UZ(8,"p-sortIcon",23),e.qZA(),e.TgZ(9,"th",24),e._uU(10," Email "),e._UZ(11,"p-sortIcon",25),e.qZA(),e.TgZ(12,"th",26),e._uU(13," Tel\xe9fono "),e._UZ(14,"p-sortIcon",27),e.qZA(),e.TgZ(15,"th",28),e._uU(16," Direcci\xf3n "),e._UZ(17,"p-sortIcon",29),e.qZA(),e.TgZ(18,"th",30),e._uU(19," Fecha Alta "),e._UZ(20,"p-sortIcon",31),e.qZA(),e._UZ(21,"th",32),e.qZA())}function ci(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",33),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.TgZ(5,"button",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.emitSearch(s.cif))}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e._UZ(17,"td"),e.TgZ(18,"td")(19,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editClient(s))}),e.qZA(),e.TgZ(20,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.emitDelete(s))}),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.hij(" ",t.cif," "),e.xp6(3),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.telefono),e.xp6(2),e.Oqu(t.direccion),e.xp6(2),e.Oqu(e.lcZ(16,7,t.fechaAlta))}}function pi(i,o){if(1&i&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" En total hay ",t.clients?t.clients.length:0," clientes. ")}}function di(i,o){1&i&&(e.TgZ(0,"span",51),e._uU(1," CIF obligatorio "),e.qZA())}function _i(i,o){1&i&&(e.TgZ(0,"small",52),e._uU(1,"Nombre obligatorio."),e.qZA())}function mi(i,o){1&i&&(e.TgZ(0,"span",51),e._uU(1," Direcci\xf3n obligatoria "),e.qZA())}function ui(i,o){1&i&&(e.TgZ(0,"span",51),e._uU(1," Tel\xe9fono obligatorio "),e.qZA())}function fi(i,o){1&i&&(e.TgZ(0,"span",51),e._uU(1," Email obligatorio "),e.qZA())}function gi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"input",39,40),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.client.cif=a)}),e.qZA(),e.TgZ(3,"label"),e._uU(4,"CIF"),e.qZA(),e.YNc(5,di,2,0,"span",41),e.qZA(),e.TgZ(6,"div",38)(7,"input",42),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.client.nombre=a)}),e.qZA(),e.TgZ(8,"label",43),e._uU(9,"Nombre"),e.qZA(),e.YNc(10,_i,2,0,"small",44),e.qZA(),e.TgZ(11,"div",38)(12,"input",45,46),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.client.direccion=a)}),e.qZA(),e.TgZ(14,"label"),e._uU(15,"Direccion"),e.qZA(),e.YNc(16,mi,2,0,"span",41),e.qZA(),e.TgZ(17,"div",38)(18,"input",47,48),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.client.telefono=a)}),e.qZA(),e.TgZ(20,"label"),e._uU(21,"Tel\xe9fono"),e.qZA(),e.YNc(22,ui,2,0,"span",41),e.qZA(),e.TgZ(23,"div",38)(24,"input",49,50),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.client.email=a)}),e.qZA(),e.TgZ(26,"label"),e._uU(27,"Email"),e.qZA(),e.YNc(28,fi,2,0,"span",41),e.qZA()}if(2&i){const t=e.MAs(2),n=e.MAs(13),a=e.MAs(19),s=e.MAs(25),l=e.oxw();e.xp6(1),e.Q6J("readOnly",!0)("ngModel",l.client.cif),e.xp6(4),e.um2(5,!t.valid&&t.touched?5:-1),e.xp6(2),e.Q6J("ngModel",l.client.nombre),e.xp6(3),e.um2(10,l.submitted&&!l.client.nombre?10:-1),e.xp6(2),e.Q6J("ngModel",l.client.direccion),e.xp6(4),e.um2(16,!n.valid&&n.touched?16:-1),e.xp6(2),e.Q6J("ngModel",l.client.telefono),e.xp6(4),e.um2(22,!a.valid&&a.touched?22:-1),e.xp6(2),e.Q6J("ngModel",l.client.email),e.xp6(4),e.um2(28,!s.valid&&s.touched?28:-1)}}function hi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveClient())}),e.qZA()}}const vi=()=>["cif","name","email","phone","direction","date"],bi=()=>({"min-width":"75rem"}),xi=()=>({width:"450px"});let Ci=(()=>{class i{constructor(){this.messageService=(0,e.f3M)(r.ez),this.confirmationService=(0,e.f3M)(r.YP),this.evSearch=new e.vpe,this.evDelete=new e.vpe,this.evUpdate=new e.vpe,this.clientDialog=!1,this.submitted=!1,this.eventHandler=t=>t.target.value,this.emitSearch=t=>this.evSearch.emit(t),this.emitDelete=t=>this.evDelete.emit(t),this.emitUpdate=t=>this.evUpdate.emit(t)}openNew(){this.client={cif:"",direccion:"",email:"",nombre:"",telefono:"",fechaAlta:""},this.submitted=!1,this.clientDialog=!0}deleteSelectedClients(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected clients?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.clients=this.clients.filter(t=>!this.selectedClients?.includes(t)),this.selectedClients=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Clients Deleted",life:3e3})}})}editClient(t){this.client={...t},this.clientDialog=!0}hideDialog(){this.clientDialog=!1,this.submitted=!1}saveClient(){this.submitted=!0,this.client.nombre?.trim()&&(this.client.cif?(this.clients[this.findIndexById(this.client.cif)]=this.client,this.messageService.add({severity:"success",summary:"Successful",detail:"Client Updated",life:3e3})):(this.clients.push(this.client),this.messageService.add({severity:"success",summary:"Successful",detail:"Client Created",life:3e3})),this.clients=[...this.clients],this.clientDialog=!1,this.client={cif:"",direccion:"",email:"",nombre:"",telefono:"",fechaAlta:""})}findIndexById(t){let n=-1;for(let a=0;a<this.clients.length;a++)if(this.clients[a].cif===t){n=a;break}return n}getSeverity(t){switch(t){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return"none"}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-data-table"]],inputs:{clients:"clients"},outputs:{evSearch:"evSearch",evDelete:"evDelete",evUpdate:"evUpdate"},standalone:!0,features:[e._Bn([r.ez,r.YP,T,w.F0]),e.jDz],decls:10,vars:15,consts:[["dataKey","cif","currentPageReportTemplate","Mostrando de {first} a {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Modificar datos de Cliente","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-right"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"form-control",3,"input"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["scope","col",2,"width","4rem"],["scope","col","pSortableColumn","cif",2,"min-width","10rem"],["field","cif"],["scope","col","pSortableColumn","name"],["field","name"],["scope","col","pSortableColumn","email",2,"min-width","10rem"],["field","email"],["scope","col","pSortableColumn","phone"],["field","phone"],["scope","col","pSortableColumn","direcction",2,"min-width","10rem"],["field","direcction"],["scope","col","pSortableColumn","date",2,"min-width","10rem"],["field","date"],["scope","col","colspan","2"],["scope","row"],[3,"value"],["pButton","","pRipple","","icon","pi pi-search",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"form-floating","mb-2"],["disabled","","type","text","pInputText","","name","cif","required","","placeholder","CIF obligatorio","autofocus","",1,"form-control",3,"readOnly","ngModel","ngModelChange"],["cif","ngModel"],["class","form-text text-danger"],["placeholder","Escribe el nombre (obligatorio)","type","text","pInputText","","id","name","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["class","p-error"],["type","text","pInputText","","name","direccion","required","","placeholder","Localidad obligatoria","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["direccion","ngModel"],["type","text","pInputText","","name","telefono","required","","placeholder","Tel\xe9fono obligatorio","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["telefono","ngModel"],["type","text","pInputText","","name","email","required","","placeholder","Email obligatorio","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"form-text","text-danger"],[1,"p-error"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"div")(1,"p-table",0,1),e.NdJ("selectionChange",function(l){return a.selectedClients=l}),e.YNc(3,li,3,0,"ng-template",2)(4,ri,22,0,"ng-template",3)(5,ci,21,9,"ng-template",4)(6,pi,2,1,"ng-template",5),e.qZA()(),e.TgZ(7,"p-dialog",6),e.NdJ("visibleChange",function(l){return a.clientDialog=l}),e.YNc(8,gi,29,11,"ng-template",7)(9,hi,2,0,"ng-template",8),e.qZA()),2&n&&(e.xp6(1),e.Q6J("value",a.clients)("rows",5)("paginator",!0)("globalFilterFields",e.DdM(12,vi))("tableStyle",e.DdM(13,bi))("selection",a.selectedClients)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(14,xi)),e.Q6J("visible",a.clientDialog)("modal",!0))},dependencies:[p.DatePipe,f.u5,f.Fj,f.JJ,f.Q7,f.On,E.S,E.V,r.jx,h.U$,h.iA,h.lQ,h.fz,h.UA,h.Mo,I.EV,m.hJ,m.Hq,Ae,Le,ai]})}return i})();const Ti=["formulario"];let yi=(()=>{class i{constructor(){this.router=(0,e.f3M)(w.F0),this.clientesService=(0,e.f3M)(T),this.confirmationService=(0,e.f3M)(r.YP),this.messageService=(0,e.f3M)(r.ez),this.visibleError=!1,this.mensajeError="",this.clientes=[],this.visibleConfirm=!1,this.editar=!1,this.cliente={cif:"",nombre:"",direccion:"",telefono:"",email:""}}ngOnInit(){this.getClientes()}setInitialDate(t){this.fechaInicio=new Date(t.target.value)}setEndingDate(t){this.fechaFin=new Date(t.target.value)}getClientes(){this.clientesService.getClientes().subscribe({next:t=>{this.visibleError=!1,this.clientes=t},error:t=>{t instanceof g.UA&&(this.visibleError=!0,this.mensajeError=t.message)}})}buscarPorCif(t){this.router.navigate(["clientes","detail",t])}buscarEntreFechas(){this.router.navigate([`clientes/${this.fechaInicio.toLocaleDateString("es",{year:"numeric",month:"2-digit",day:"2-digit"}).replaceAll("/","-")}/${this.fechaFin.toLocaleDateString("es",{year:"numeric",month:"2-digit",day:"2-digit"}).replaceAll("/","-")}`])}guardar(){!1===this.editar?this.clientesService.addCliente(this.cliente).subscribe({next:t=>{this.visibleError=!1,this.formulario.reset(),this.getClientes()},error:t=>{console.error({err:t}),t instanceof g.UA&&(this.visibleError=!0,this.mensajeError=t.message)}}):this.clientesService.updateCliente(this.cliente).subscribe({next:t=>{this.visibleError=!1,this.cancelarEdicion(),this.formulario.reset(),this.getClientes(),this.editar=!1},error:t=>{console.error({err:t}),t instanceof g.UA&&(this.visibleError=!0,this.mensajeError=t.message)}})}edit(t){this.cliente={...t},this.editar=!0}cancelarEdicion(){this.cliente={cif:"",nombre:"",direccion:"",telefono:"",email:"",fechaAlta:new Date},this.editar=!1}confirmDelete(t){this.confirmationService.confirm({message:`\xbfEliminar cliente ${t.nombre}?`,header:"\xbfEst\xe1 seguro? Esta acci\xf3n no se puede deshacer",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed",rejectLabel:"No",acceptButtonStyleClass:"btn btn-danger mx-1 p-button-text",rejectButtonStyleClass:"btn btn-primary mx-1 p-button-text",acceptIcon:"none",rejectIcon:"none",accept:()=>{this.messageService.add({severity:"info",summary:"Aceptado",detail:"Registro eliminado"}),this.deleteCliente(t.cif)},reject:()=>{this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se ha cancelado la operaci\xf3n",life:3e3})}})}deleteCliente(t){this.clientesService.deleteCliente(t).subscribe({next:n=>{this.visibleError=!1,this.formulario.reset({cif:"",nombre:"",direccion:"",telefono:"",email:"",fechaAlta:new Date}),this.getClientes()},error:n=>{console.error({err:n}),n instanceof g.UA&&(this.visibleError=!0,this.mensajeError=n.message)}})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-clientes"]],viewQuery:function(n,a){if(1&n&&e.Gf(Ti,5),2&n){let s;e.iGM(s=e.CRH())&&(a.formulario=s.first)}},standalone:!0,features:[e._Bn([T,r.YP,r.ez,w.F0]),e.jDz],decls:4,vars:1,consts:[[1,"row","mt-4"],[3,"clients","evSearch","evDelete","evUpdate"]],template:function(n,a){1&n&&(e.TgZ(0,"section",0)(1,"app-data-table",1),e.NdJ("evSearch",function(l){return a.buscarPorCif(l)})("evDelete",function(l){return a.confirmDelete(l)})("evUpdate",function(l){return a.edit(l)}),e.qZA()(),e._UZ(2,"p-toast")(3,"p-confirmDialog")),2&n&&(e.xp6(1),e.Q6J("clients",a.clientes))},dependencies:[f.u5,p.CommonModule,Se,we,I.EV,I.FN,Ci]})}return i})()}}]);