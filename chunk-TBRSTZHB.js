import{c as G,d as Y,f as ve}from"./chunk-M4NRHHMH.js";import{a as T,b as P,d as pe,e as me}from"./chunk-ZQ6E6SD3.js";import{d as ge}from"./chunk-X3D7TB3C.js";import{A as de,C as he,E as O,G as D,L as fe,N as Z,Qa as be,R as S,W as M,X as v,Y as B,f as K,i as ne,ia as le,j as k,k as N,ka as ue,n as xe,o as R,p as oe,q as ce,v as ae,w,x as _e,y as A}from"./chunk-UHJFEF34.js";import{f as E}from"./chunk-CWTPBX7D.js";var ee=class{validateSignature(r){return Promise.resolve(null)}validateAtHash(r){return Promise.resolve(!0)}},V=class{};var j=class{},Ee=(()=>{let r=class r extends j{now(){return Date.now()}new(){return new Date}};r.\u0275fac=(()=>{let e;return function(s){return(e||(e=le(r)))(s||r)}})(),r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})();var $=class{},z=class{},Ae=(()=>{let r=class r{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,t){this.data.set(e,t)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})();var U=class{constructor(r){this.type=r}},m=class extends U{constructor(r,_=null){super(r),this.info=_}},y=class extends U{constructor(r,_=null){super(r),this.info=_}},b=class extends U{constructor(r,_,e=null){super(r),this.reason=_,this.params=e}};function ke(a){let r=a.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(r).split("").map(function(_){return"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function we(a){return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var L=class{constructor(r){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=_=>{location.href=_},r&&Object.assign(this,r)}},C=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},J=class{};var ye=(()=>{let r=class r{getHashFragmentParams(e){let t=e||window.location.hash;if(t=decodeURIComponent(t),t.indexOf("#")!==0)return{};let s=t.indexOf("?");return s>-1?t=t.substr(s+1):t=t.substr(1),this.parseQueryString(t)}parseQueryString(e){let t={},s,i,n,x,c,f;if(e===null)return t;let u=e.split("&");for(let o=0;o<u.length;o++)s=u[o],i=s.indexOf("="),i===-1?(n=s,x=null):(n=s.substr(0,i),x=s.substr(i+1)),c=decodeURIComponent(n),f=decodeURIComponent(x),c.substr(0,1)==="/"&&(c=c.substr(1)),t[c]=f;return t}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})(),Se=32,Pe=64,Le=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function X(a,r,_,e,t){let s,i,n,x,c,f,u,o,h,d,g,p,I;for(;t>=64;){for(s=r[0],i=r[1],n=r[2],x=r[3],c=r[4],f=r[5],u=r[6],o=r[7],d=0;d<16;d++)g=e+d*4,a[d]=(_[g]&255)<<24|(_[g+1]&255)<<16|(_[g+2]&255)<<8|_[g+3]&255;for(d=16;d<64;d++)h=a[d-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=a[d-15],I=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,a[d]=(p+a[d-7]|0)+(I+a[d-16]|0);for(d=0;d<64;d++)p=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&u)|0)+(o+(Le[d]+a[d]|0)|0)|0,I=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&n^i&n)|0,o=u,u=f,f=c,c=x+p|0,x=n,n=i,i=s,s=p+I|0;r[0]+=s,r[1]+=i,r[2]+=n,r[3]+=x,r[4]+=c,r[5]+=f,r[6]+=u,r[7]+=o,e+=64,t-=64}return e}var te=class{constructor(){this.digestLength=Se,this.blockSize=Pe,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let r=0;r<this.buffer.length;r++)this.buffer[r]=0;for(let r=0;r<this.temp.length;r++)this.temp[r]=0;this.reset()}update(r,_=r.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let e=0;if(this.bytesHashed+=_,this.bufferLength>0){for(;this.bufferLength<64&&_>0;)this.buffer[this.bufferLength++]=r[e++],_--;this.bufferLength===64&&(X(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(_>=64&&(e=X(this.temp,this.state,r,e,_),_%=64);_>0;)this.buffer[this.bufferLength++]=r[e++],_--;return this}finish(r){if(!this.finished){let _=this.bytesHashed,e=this.bufferLength,t=_/536870912|0,s=_<<3,i=_%64<56?64:128;this.buffer[e]=128;for(let n=e+1;n<i-8;n++)this.buffer[n]=0;this.buffer[i-8]=t>>>24&255,this.buffer[i-7]=t>>>16&255,this.buffer[i-6]=t>>>8&255,this.buffer[i-5]=t>>>0&255,this.buffer[i-4]=s>>>24&255,this.buffer[i-3]=s>>>16&255,this.buffer[i-2]=s>>>8&255,this.buffer[i-1]=s>>>0&255,X(this.temp,this.state,this.buffer,0,i),this.finished=!0}for(let _=0;_<8;_++)r[_*4+0]=this.state[_]>>>24&255,r[_*4+1]=this.state[_]>>>16&255,r[_*4+2]=this.state[_]>>>8&255,r[_*4+3]=this.state[_]>>>0&255;return this}digest(){let r=new Uint8Array(this.digestLength);return this.finish(r),r}_saveState(r){for(let _=0;_<this.state.length;_++)r[_]=this.state[_]}_restoreState(r,_){for(let e=0;e<this.state.length;e++)this.state[e]=r[e];this.bytesHashed=_,this.finished=!1,this.bufferLength=0}};function je(a){let r=new te().update(a),_=r.digest();return r.clean(),_}var et=new Uint8Array(Se);var W=class{};function Ue(a){if(typeof a!="string")throw new TypeError("expected string");let r=a,_=new Uint8Array(r.length);for(let e=0;e<r.length;e++)_[e]=r.charCodeAt(e);return _}function He(a){let r=[];for(let _=0;_<a.length;_++)r.push(String.fromCharCode(a[_]));return r.join("")}var Fe=(()=>{let r=class r{calcHash(e,t){return E(this,null,function*(){return He(je(Ue(e)))})}toHashString2(e){let t="";for(let s of e)t+=String.fromCharCode(s);return t}toHashString(e){let t=new Uint8Array(e),s="";for(let i of t)s+=String.fromCharCode(i);return s}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})(),Q=(()=>{let r=class r extends L{constructor(e,t,s,i,n,x,c,f,u,o){super(),this.ngZone=e,this.http=t,this.config=n,this.urlHelper=x,this.logger=c,this.crypto=f,this.dateTimeService=o,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new K,this.discoveryDocumentLoadedSubject=new K,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=u,n||(n={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),i&&(this.tokenValidationHandler=i),n&&this.configure(n);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}if(this.checkLocalStorageAccessable()){let h=window?.navigator?.userAgent;(h?.includes("MSIE ")||h?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let e="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch{return!1}}configure(e){Object.assign(this,new L,e),this.config=Object.assign({},new L,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(w(e=>e.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},t,s=!0){let i=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(Z(n=>{n.type==="token_received"?i=!0:n.type==="logout"&&(i=!1)}),w(n=>n.type==="token_expires"&&(t==null||t==="any"||n.info===t)),de(1e3)).subscribe(()=>{i&&this.refreshInternal(e,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,t){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(e,t)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return e=e||{},this.loadDiscoveryDocumentAndTryLogin(e).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let t=typeof e.state=="string"?e.state:"";return this.initLoginFlow(t),!1}else return!0})}debug(...e){this.showDebugInformation&&this.logger.debug(...e)}validateUrlFromDiscoveryDocument(e){let t=[],s=this.validateUrlForHttps(e),i=this.validateUrlAgainstIssuer(e);return s||t.push("https for all urls required. Also for urls received by discovery."),i||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}validateUrlForHttps(e){if(!e)return!0;let t=e.toLowerCase();return this.requireHttps===!1||(t.match(/^http:\/\/localhost($|[:/])/)||t.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:t.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,t){if(!e)throw new Error(`'${t}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${t}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e?!0:e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(w(e=>e.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let e=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),s=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=k(new y("token_expires","access_token")).pipe(O(s)).subscribe(i=>{this.ngZone.run(()=>{this.eventsSubject.next(i)})})})}setupIdTokenTimer(){let e=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),s=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=k(new y("token_expires","id_token")).pipe(O(s)).subscribe(i=>{this.ngZone.run(()=>{this.eventsSubject.next(i)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,t){let s=this.dateTimeService.now(),i=(t-e)*this.timeoutFactor-(s-e),n=Math.max(0,i),x=2147483647;return n>x?x:n}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((t,s)=>{if(e||(e=this.issuer||"",e.endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),!this.validateUrlForHttps(e)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(e).subscribe(i=>{if(!this.validateDiscoveryDocument(i)){this.eventsSubject.next(new b("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=i.authorization_endpoint,this.logoutUrl=i.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=i.grant_types_supported,this.issuer=i.issuer,this.tokenEndpoint=i.token_endpoint,this.userinfoEndpoint=i.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=i.jwks_uri,this.sessionCheckIFrameUrl=i.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(i),this.revocationEndpoint=i.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(n=>{let x={discoveryDocument:i,jwks:n},c=new m("discovery_document_loaded",x);this.eventsSubject.next(c),t(c)}).catch(n=>{this.eventsSubject.next(new b("discovery_document_load_error",n)),s(n)})},i=>{this.logger.error("error loading discovery document",i),this.eventsSubject.next(new b("discovery_document_load_error",i)),s(i)})})}loadJwks(){return new Promise((e,t)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,e(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new b("jwks_load_error",s)),t(s)}):e(null)})}validateDiscoveryDocument(e){let t;return!this.skipIssuerCheck&&e.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1):(t=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),t.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),t.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.token_endpoint),t.length>0&&this.logger.error("error validating token_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),t.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),t.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.jwks_uri),t.length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,t,s=new T){return this.fetchTokenUsingPasswordFlow(e,t,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,t)=>{let s=new T().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(i=>{if(this.debug("userinfo received",JSON.stringify(i)),i.headers.get("content-type").startsWith("application/json")){let n=JSON.parse(i.body),x=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!x.sub||n.sub!==x.sub)){t(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}n=Object.assign({},x,n),this._storage.setItem("id_token_claims_obj",JSON.stringify(n)),this.eventsSubject.next(new m("user_profile_loaded")),e({info:n})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new m("user_profile_loaded")),e(JSON.parse(i.body))},i=>{this.logger.error("error loading user info",i),this.eventsSubject.next(new b("user_profile_load_error",i)),t(i)})})}fetchTokenUsingPasswordFlow(e,t,s=new T){let i={username:e,password:t};return this.fetchTokenUsingGrant("password",i,s)}fetchTokenUsingGrant(e,t,s=new T){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let i=new P({encoder:new C}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){let n=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+n)}if(this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let n of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(n,this.customQueryParams[n]);for(let n of Object.keys(t))i=i.set(n,t[n]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((n,x)=>{this.http.post(this.tokenEndpoint,i,{headers:s}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(f=>{this.storeIdToken(f),n(c)}),this.eventsSubject.next(new m("token_received")),n(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new b("token_error",c)),x(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,t)=>{let s=new P({encoder:new C}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),i=new T().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let n=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+n)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let n of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(n,this.customQueryParams[n]);this.http.post(this.tokenEndpoint,s,{headers:i}).pipe(fe(n=>this.oidc&&n.id_token?ne(this.processIdToken(n.id_token,n.access_token,!0)).pipe(Z(x=>this.storeIdToken(x)),R(()=>n)):k(n))).subscribe(n=>{this.debug("refresh tokenResponse",n),this.storeAccessTokenResponse(n.access_token,n.refresh_token,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,n.scope,this.extractRecognizedCustomParameters(n)),this.eventsSubject.next(new m("token_received")),this.eventsSubject.next(new m("token_refreshed")),e(n)},n=>{this.logger.error("Error refreshing token",n),this.eventsSubject.next(new b("token_refresh_error",n)),t(n)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{let t=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},t=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let i=this.document.getElementById(this.silentRefreshIFrameName);i&&this.document.body.removeChild(i),this.silentRefreshSubject=s.sub;let n=this.document.createElement("iframe");n.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let x=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,x,t,e).then(o=>{n.setAttribute("src",o),this.silentRefreshShowIFrame||(n.style.display="none"),this.document.body.appendChild(n)});let c=this.events.pipe(w(o=>o instanceof b),D()),f=this.events.pipe(w(o=>o.type==="token_received"),D()),u=k(new b("silent_refresh_timeout",null)).pipe(O(this.silentRefreshTimeout));return _e([c,f,u]).pipe(R(o=>{if(o instanceof b)throw o.type==="silent_refresh_timeout"?this.eventsSubject.next(o):(o=new b("silent_refresh_error",o),this.eventsSubject.next(o)),o;return o.type==="token_received"&&(o=new m("silently_refreshed"),this.eventsSubject.next(o)),o})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(t=>new Promise((s,i)=>{let x=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(x=e.windowRef,x.location.href=t):x=window.open(t,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));let c,f=g=>{this.tryLogin({customHashFragment:g,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{o(),s(!0)},p=>{o(),i(p)})},u=()=>{(!x||x.closed)&&(o(),i(new b("popup_closed",{})))};x?c=window.setInterval(u,500):i(new b("popup_blocked",{}));let o=()=>{window.clearInterval(c),window.removeEventListener("storage",d),window.removeEventListener("message",h),x!==null&&x.close(),x=null},h=g=>{let p=this.processMessageEventMessage(g);p&&p!==null?(window.removeEventListener("storage",d),f(p)):console.log("false event firing")},d=g=>{g.key==="auth_hash"&&(window.removeEventListener("message",h),f(g.newValue))};window.addEventListener("message",h),window.addEventListener("storage",d)}))}calculatePopupFeatures(e){let t=e.height||470,s=e.width||500,i=window.screenLeft+(window.outerWidth-s)/2,n=window.screenTop+(window.outerHeight-t)/2;return`location=no,toolbar=no,width=${s},height=${t},top=${n},left=${i}`}processMessageEventMessage(e){let t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),!e||!e.data||typeof e.data!="string")return;let s=e.data;if(s.startsWith(t))return"#"+s.substr(t.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{let t=e.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(t)){this.debug("sessionCheckEventListener","wrong origin",t,"expected",s,"event",e);return}switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new y("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new y("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new y("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new y("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(w(e=>e.type==="silently_refreshed"||e.type==="silent_refresh_timeout"||e.type==="silent_refresh_error"),D()).subscribe(e=>{e.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new y("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new y("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);let t=this.document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;t.setAttribute("src",s),t.style.display="none",this.document.body.appendChild(t),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let t=this.getSessionState();t||this.stopSessionCheckTimer();let s=this.clientId+" "+t;e.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return E(this,arguments,function*(e="",t="",s="",i=!1,n={}){let x=this,c;s?c=s:c=this.redirectUri;let f=yield this.createAndSaveNonce();if(e?e=f+this.config.nonceStateSeparator+encodeURIComponent(e):e=f,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let u=x.loginUrl.indexOf("?")>-1?"&":"?",o=x.scope;this.oidc&&!o.match(/(^|\s)openid($|\s)/)&&(o="openid "+o);let h=x.loginUrl+u+"response_type="+encodeURIComponent(x.responseType)+"&client_id="+encodeURIComponent(x.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(o);if(this.responseType.includes("code")&&!this.disablePKCE){let[d,g]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",g):this._storage.setItem("PKCE_verifier",g),h+="&code_challenge="+d,h+="&code_challenge_method=S256"}t&&(h+="&login_hint="+encodeURIComponent(t)),x.resource&&(h+="&resource="+encodeURIComponent(x.resource)),x.oidc&&(h+="&nonce="+encodeURIComponent(f)),i&&(h+="&prompt=none");for(let d of Object.keys(n))h+="&"+encodeURIComponent(d)+"="+encodeURIComponent(n[d]);if(this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))h+="&"+d+"="+encodeURIComponent(this.customQueryParams[d]);return h})}initImplicitFlowInternal(e="",t=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},i=null;typeof t=="string"?i=t:typeof t=="object"&&(s=t),this.createLoginUrl(e,i,null,!1,s).then(this.config.openUri).catch(n=>{console.error("Error in initImplicitFlow",n),this.inImplicitFlow=!1})}initImplicitFlow(e="",t=""){this.loginUrl!==""?this.initImplicitFlowInternal(e,t):this.events.pipe(w(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(e,t))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){let t=this;if(e.onTokenReceived){let s={idClaims:t.getIdentityClaims(),idToken:t.getIdToken(),accessToken:t.getAccessToken(),state:t.state};e.onTokenReceived(s)}}storeAccessTokenResponse(e,t,s,i,n){if(this._storage.setItem("access_token",e),i&&!Array.isArray(i)?this._storage.setItem("granted_scopes",JSON.stringify(i.split(" "))):i&&Array.isArray(i)&&this._storage.setItem("granted_scopes",JSON.stringify(i)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let x=s*1e3,f=this.dateTimeService.new().getTime()+x;this._storage.setItem("expires_at",""+f)}t&&this._storage.setItem("refresh_token",t),n&&n.forEach((x,c)=>{this._storage.setItem(c,x)})}tryLogin(e=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(e).then(()=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return!e||e.length===0?{}:(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}tryLoginCodeFlow(e=null){return E(this,null,function*(){e=e||{};let t=e.customHashFragment?e.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(t),i=s.code,n=s.state,x=s.session_state;if(!e.preventClearHashAfterLogin){let u=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,u)}let[c,f]=this.parseState(n);if(this.state=f,s.error){this.debug("error trying to login"),this.handleLoginError(e,s);let u=new b("code_error",{},s);return this.eventsSubject.next(u),Promise.reject(u)}if(!e.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(c)){let o=new b("invalid_nonce_in_state",null);return this.eventsSubject.next(o),Promise.reject(o)}}return this.storeSessionState(x),i&&(yield this.getTokenFromCode(i,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return!e||e.length===0?this.urlHelper.getHashFragmentParams():(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}getTokenFromCode(e,t){let s=new P({encoder:new C}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",t.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let i;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?i=localStorage.getItem("PKCE_verifier"):i=this._storage.getItem("PKCE_verifier"),i?s=s.set("code_verifier",i):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,t)}fetchAndProcessToken(e,t){t=t||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new T().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let i=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+i)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((i,n)=>{if(this.customQueryParams)for(let x of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(x,this.customQueryParams[x]);this.http.post(this.tokenEndpoint,e,{headers:s}).subscribe(x=>{this.debug("refresh tokenResponse",x),this.storeAccessTokenResponse(x.access_token,x.refresh_token,x.expires_in||this.fallbackAccessTokenExpirationTimeInSec,x.scope,this.extractRecognizedCustomParameters(x)),this.oidc&&x.id_token?this.processIdToken(x.id_token,x.access_token,t.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new m("token_received")),this.eventsSubject.next(new m("token_refreshed")),i(x)}).catch(c=>{this.eventsSubject.next(new b("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),n(c)}):(this.eventsSubject.next(new m("token_received")),this.eventsSubject.next(new m("token_refreshed")),i(x))},x=>{console.error("Error getting token",x),this.eventsSubject.next(new b("token_refresh_error",x)),n(x)})})}tryLoginImplicitFlow(e=null){e=e||{};let t;e.customHashFragment?t=this.urlHelper.getHashFragmentParams(e.customHashFragment):t=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",t);let s=t.state,[i,n]=this.parseState(s);if(this.state=n,t.error){this.debug("error trying to login"),this.handleLoginError(e,t);let o=new b("token_error",{},t);return this.eventsSubject.next(o),Promise.reject(o)}let x=t.access_token,c=t.id_token,f=t.session_state,u=t.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!x||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!s||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!f&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(i)){let h=new b("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}return this.requestAccessToken&&this.storeAccessTokenResponse(x,null,t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u),this.oidc?this.processIdToken(c,x,e.disableNonceCheck).then(o=>e.validationHandler?e.validationHandler({accessToken:x,idClaims:o.idTokenClaims,idToken:o.idToken,state:s}).then(()=>o):o).then(o=>(this.storeIdToken(o),this.storeSessionState(f),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new m("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(o=>(this.eventsSubject.next(new b("token_validation_error",o)),this.logger.error("Error validating tokens"),this.logger.error(o),Promise.reject(o))):(this.eventsSubject.next(new m("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let t=e,s="";if(e){let i=e.indexOf(this.config.nonceStateSeparator);i>-1&&(t=e.substr(0,i),s=e.substr(i+this.config.nonceStateSeparator.length))}return[t,s]}validateNonce(e){let t;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?t=localStorage.getItem("nonce"):t=this._storage.getItem("nonce"),t!==e?(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1):!0}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,t){e.onLoginError&&e.onLoginError(t),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?e:this.clockSkewInSec*1e3}processIdToken(e,t,s=!1){let i=e.split("."),n=this.padBase64(i[0]),x=ke(n),c=JSON.parse(x),f=this.padBase64(i[1]),u=ke(f),o=JSON.parse(u),h;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("nonce"):h=this._storage.getItem("nonce"),Array.isArray(o.aud)){if(o.aud.every(l=>l!==this.clientId)){let l="Wrong audience: "+o.aud.join(",");return this.logger.warn(l),Promise.reject(l)}}else if(o.aud!==this.clientId){let l="Wrong audience: "+o.aud;return this.logger.warn(l),Promise.reject(l)}if(!o.sub){let l="No sub claim in id_token";return this.logger.warn(l),Promise.reject(l)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==o.sub){let l=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${o.sub}`;return this.logger.warn(l),Promise.reject(l)}if(!o.iat){let l="No iat claim in id_token";return this.logger.warn(l),Promise.reject(l)}if(!this.skipIssuerCheck&&o.iss!==this.issuer){let l="Wrong issuer: "+o.iss;return this.logger.warn(l),Promise.reject(l)}if(!s&&o.nonce!==h){let l="Wrong nonce: "+o.nonce;return this.logger.warn(l),Promise.reject(l)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!o.at_hash){let l="An at_hash is needed!";return this.logger.warn(l),Promise.reject(l)}let d=this.dateTimeService.now(),g=o.iat*1e3,p=o.exp*1e3,I=this.getClockSkewInMsec();if(g-I>=d||p+I-this.decreaseExpirationBySec<=d){let l="Token has expired";return console.error(l),console.error({now:d,issuedAtMSec:g,expiresAtMSec:p}),Promise.reject(l)}let H={accessToken:t,idToken:e,jwks:this.jwks,idTokenClaims:o,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(H).then(()=>({idToken:e,idTokenClaims:o,idTokenClaimsJson:u,idTokenHeader:c,idTokenHeaderJson:x,idTokenExpiresAt:p})):this.checkAtHash(H).then(l=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!l){let F="Wrong at_hash";return this.logger.warn(F),Promise.reject(F)}return this.checkSignature(H).then(()=>{let F=!this.disableAtHashCheck,ie={idToken:e,idTokenClaims:o,idTokenClaimsJson:u,idTokenHeader:c,idTokenHeaderJson:x,idTokenExpiresAt:p};return F?this.checkAtHash(H).then(Ie=>{if(this.requestAccessToken&&!Ie){let re="Wrong at_hash";return this.logger.warn(re),Promise.reject(re)}else return ie}):ie})})}getIdentityClaims(){let e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){let e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!==0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let e=this._storage.getItem("expires_at"),t=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<t.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let e=this._storage.getItem("id_token_expires_at"),t=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<t.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&this._storage.getItem(e)!==null?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},t=""){let s=!1;typeof e=="boolean"&&(s=e,e={});let i=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(x=>this._storage.removeItem(x)),this.silentRefreshSubject=null,this.eventsSubject.next(new y("logout")),!this.logoutUrl||s)return;let n;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)n=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(i)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let x=new P({encoder:new C});i&&(x=x.set("id_token_hint",i));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(x=x.set("post_logout_redirect_uri",c),t&&(x=x.set("state",t)));for(let f in e)x=x.set(f,e[f]);n=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+x.toString()}this.config.openUri(n)}createAndSaveNonce(){let e=this;return this.createNonce().then(function(t){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",t):e._storage.setItem("nonce",t),t})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let t=this.document.getElementById(this.sessionCheckIFrameName);t&&t.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,i="",n=typeof self>"u"?null:self.crypto||self.msCrypto;if(n){let x=new Uint8Array(s);n.getRandomValues(x),x.map||(x.map=Array.prototype.map),x=x.map(c=>t.charCodeAt(c%t.length)),i=String.fromCharCode.apply(null,x)}else for(;0<s--;)i+=t[Math.random()*t.length|0];e(we(i))})}checkAtHash(e){return E(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",t={}){return this.responseType==="code"?this.initCodeFlow(e,t):this.initImplicitFlow(e,t)}initCodeFlow(e="",t={}){this.loginUrl!==""?this.initCodeFlowInternal(e,t):this.events.pipe(w(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(e,t))}initCodeFlowInternal(e="",t={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},i=null;typeof t=="string"?i=t:typeof t=="object"&&(s=t),this.createLoginUrl(e,i,null,!1,s).then(this.config.openUri).catch(n=>{console.error("Error in initAuthorizationCodeFlow"),console.error(n)})}createChallangeVerifierPairForPKCE(){return E(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let e=yield this.createNonce(),t=yield this.crypto.calcHash(e,"sha-256");return[we(t),e]})}extractRecognizedCustomParameters(e){let t=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{e[s]&&t.set(s,JSON.stringify(e[s]))}),t}revokeTokenAndLogout(e={},t=!1){let s=this.revocationEndpoint,i=this.getAccessToken(),n=this.getRefreshToken();if(!i)return Promise.resolve();let x=new P({encoder:new C}),c=new T().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let f=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+f)}if(this.useHttpBasicAuth||(x=x.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(x=x.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let f of Object.getOwnPropertyNames(this.customQueryParams))x=x.set(f,this.customQueryParams[f]);return new Promise((f,u)=>{let o,h;if(i){let d=x.set("token",i).set("token_type_hint","access_token");o=this.http.post(s,d,{headers:c})}else o=k(null);if(n){let d=x.set("token",n).set("token_type_hint","refresh_token");h=this.http.post(s,d,{headers:c})}else h=k(null);t&&(o=o.pipe(A(d=>d.status===0?k(null):N(d))),h=h.pipe(A(d=>d.status===0?k(null):N(d)))),oe([o,h]).subscribe(d=>{this.logOut(e),f(d),this.logger.info("Token successfully revoked")},d=>{this.logger.error("Error revoking token",d),this.eventsSubject.next(new b("token_revoke_error",d)),u(d)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};r.\u0275fac=function(t){return new(t||r)(v(be),v(pe),v(z,8),v(J,8),v(L,8),v(ye),v($),v(W,8),v(ge),v(j))},r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})(),q=class{},se=class{handleError(r){return N(r)}},Ne=(()=>{let r=class r{constructor(e,t,s){this.oAuthService=e,this.errorHandler=t,this.moduleConfig=s}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(t=>e.toLowerCase().startsWith(t.toLowerCase())):!0}intercept(e,t){let s=e.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?t.handle(e):this.moduleConfig.resourceServer.sendAccessToken?ae(k(this.oAuthService.getAccessToken()).pipe(w(n=>!!n)),this.oAuthService.events.pipe(w(n=>n.type==="token_received"),xe(this.oAuthService.waitForTokenInMsec||0),A(()=>k(null)),R(()=>this.oAuthService.getAccessToken()))).pipe(he(1),ce(n=>{if(n){let x="Bearer "+n,c=e.headers.set("Authorization",x);e=e.clone({headers:c})}return t.handle(e).pipe(A(x=>this.errorHandler.handleError(x)))})):t.handle(e).pipe(A(n=>this.errorHandler.handleError(n)))}};r.\u0275fac=function(t){return new(t||r)(v(Q),v(q),v(V,8))},r.\u0275prov=S({token:r,factory:r.\u0275fac});let a=r;return a})();function Re(){return console}function Oe(){return typeof sessionStorage<"u"?sessionStorage:new Ae}function tt(a=null,r=ee){return ue([Q,ye,{provide:$,useFactory:Re},{provide:z,useFactory:Oe},{provide:J,useClass:r},{provide:W,useClass:Fe},{provide:q,useClass:se},{provide:V,useValue:a},{provide:me,useClass:Ne,multi:!0},{provide:j,useClass:Ee}])}var st=new M("AUTH_CONFIG");var Te=new M("OAUTH_CONFIG");var lt=(()=>{let r=class r{constructor(){this.config=B(Te),this.oauth=B(Q),this.userService=B(ve)}initProviderLogin(e){let t=this.config[e];if(t)this.initLogin(t);else throw new Error("Configuraci\xF3n no encontrada")}login(){this.oauth.initLoginFlow(),G.setItem(Y.OAuth2,this.getIdToken())}logout(){this.oauth.logOut(),this.userService.clearUser(),G.removeItem(Y.Token)}getProfile(){return this.oauth.getIdentityClaims()}getIdToken(){return this.oauth.getIdToken()}getIsLoggedIn(){return this.oauth.hasValidAccessToken()}initLogin(e){this.oauth.configure(e),this.oauth.setupAutomaticSilentRefresh(),this.oauth.loadDiscoveryDocumentAndTryLogin().then(t=>console.log(...Me("4208209369_76_21_76_37_4",t))).catch(t=>console.error(t))}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function De(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)(`/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';function _0x11da(){var _0x4f794a=['create','Error','forEach','log','data','next.js','env','performance','NEXT_RUNTIME','toString','Set','_setNodeId','_isPrimitiveWrapperType','error','[object\\x20Map]','9348588gGlyOW','_consoleNinjaAllowedToStart','bind','sortProps','disabledLog','9116856yyhZdC','valueOf','autoExpandMaxDepth','_treeNodePropertiesBeforeFullValue','_console_ninja','hostname','map','nodeModules','[object\\x20Date]','getOwnPropertySymbols','_treeNodePropertiesAfterFullValue','https://tinyurl.com/37x8b79t','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help;\\x20also\\x20see\\x20','funcName','_hasMapOnItsPath','negativeZero','1164859Lgfzpo','concat','serialize','timeEnd','symbol','disabledTrace','stringify','_Symbol','date','_additionalMetadata','344PBLnWT','_capIfString','unknown','_sendErrorMessage','_addObjectProperty','_blacklistedProperty','_maxConnectAttemptCount','_processTreeNodeResult','method','_console_ninja_session','WebSocket','gateway.docker.internal','message','pop','call','unref','1706964718900','','send','_addLoadNode','163478YIFujb','number','replace','dockerizedApp','_numberRegExp','autoExpandPreviousObjects','props','3248930lMygyd','Buffer','cappedElements','NEGATIVE_INFINITY','type','autoExpand','__es'+'Module','_hasSymbolPropertyOnItsPath','bigint',':logPointId:','_attemptToReconnectShortly','toLowerCase','[object\\x20BigInt]','remix','get','array','_reconnectTimeout','_setNodeQueryPath','nuxt','_setNodeExpressionPath','onerror','close','12234FhDpJX','_setNodeExpandableState','warn','now','autoExpandLimit','elapsed','expressionsToEvaluate','capped','127.0.0.1','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host,\\x20see\\x20','test','_WebSocketClass','allStrLength','_cleanNode','Map','RegExp','hrtime','_isUndefined','\\x20browser','_socket','_p_name','reload','timeStamp','cappedProps','node','astro','HTMLAllCollection','match','process','parse','function','POSITIVE_INFINITY','...','_disposeWebsocket','substr','prototype','_isNegativeZero','undefined','552NcGmvA','_hasSetOnItsPath','strLength','_sortProps','default','_isSet','Boolean','readyState','expId','elements','_connecting','noFunctions','[object\\x20Array]','[object\\x20Set]','_isPrimitiveType','_connectToHostNow','hits','split','root_exp_id','coverage','_inBrowser','versions','name','catch','\\x20server','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host','_propertyName','ws://','_isArray','isArray','_ws','push','_setNodeLabel','positiveInfinity','trace','path','console','String','global','parent','angular','getPrototypeOf','sort','_getOwnPropertySymbols','index','_p_','object','stackTraceLimit','enumerable','isExpressionToEvaluate','_connectAttemptCount','angular','_addFunctionsNode','_HTMLAllCollection','failed\\x20to\\x20connect\\x20to\\x20host:\\x20','_inNextEdge','level','count','defineProperty','_allowedToSend','reduceLimits','_isMap','_getOwnPropertyNames','_property','onmessage','5YVzKxt','totalStrLength','getOwnPropertyDescriptor','autoExpandPropertyCount','failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket','resolveGetters','_addProperty','60423','depth','onclose','_objectToString','rootExpression','length','null','_webSocketErrorDocsLink','_dateToString','host','then','string','onopen','_allowedToConnectOnSend','current','slice','_setNodePermissions','Number','_connected','_WebSocket','time','558124WMNOZj','getWebSocketClass','port','_type','value','edge','logger\\x20websocket\\x20error','location','join'];_0x11da=function(){return _0x4f794a;};return _0x11da();}var _0x2d14a7=_0x3a68;function _0x3a68(_0x3a2785,_0xbca5ae){var _0x11dac7=_0x11da();return _0x3a68=function(_0x3a6831,_0x39b5d9){_0x3a6831=_0x3a6831-0x139;var _0x374838=_0x11dac7[_0x3a6831];return _0x374838;},_0x3a68(_0x3a2785,_0xbca5ae);}(function(_0x2d6dbc,_0x1dd6fd){var _0x5d7585=_0x3a68,_0x21d219=_0x2d6dbc();while(!![]){try{var _0x562149=parseInt(_0x5d7585(0x1f0))/0x1+parseInt(_0x5d7585(0x140))/0x2*(parseInt(_0x5d7585(0x166))/0x3)+-parseInt(_0x5d7585(0x1c3))/0x4+parseInt(_0x5d7585(0x1a7))/0x5*(-parseInt(_0x5d7585(0x1db))/0x6)+-parseInt(_0x5d7585(0x20e))/0x7*(-parseInt(_0x5d7585(0x1fa))/0x8)+-parseInt(_0x5d7585(0x1e0))/0x9+parseInt(_0x5d7585(0x215))/0xa;if(_0x562149===_0x1dd6fd)break;else _0x21d219['push'](_0x21d219['shift']());}catch(_0x12a257){_0x21d219['push'](_0x21d219['shift']());}}}(_0x11da,0xdde59));var j=Object[_0x2d14a7(0x1cc)],H=Object[_0x2d14a7(0x1a0)],G=Object['getOwnPropertyDescriptor'],ee=Object['getOwnPropertyNames'],te=Object[_0x2d14a7(0x18f)],ne=Object[_0x2d14a7(0x163)]['hasOwnProperty'],re=(_0x5ed5e2,_0x5c6001,_0x53faf3,_0x299996)=>{var _0x154499=_0x2d14a7;if(_0x5c6001&&typeof _0x5c6001==_0x154499(0x194)||typeof _0x5c6001==_0x154499(0x15e)){for(let _0x449126 of ee(_0x5c6001))!ne[_0x154499(0x208)](_0x5ed5e2,_0x449126)&&_0x449126!==_0x53faf3&&H(_0x5ed5e2,_0x449126,{'get':()=>_0x5c6001[_0x449126],'enumerable':!(_0x299996=G(_0x5c6001,_0x449126))||_0x299996[_0x154499(0x196)]});}return _0x5ed5e2;},x=(_0x2675cd,_0x4ed12c,_0x52d20e)=>(_0x52d20e=_0x2675cd!=null?j(te(_0x2675cd)):{},re(_0x4ed12c||!_0x2675cd||!_0x2675cd[_0x2d14a7(0x21b)]?H(_0x52d20e,_0x2d14a7(0x16a),{'value':_0x2675cd,'enumerable':!0x0}):_0x52d20e,_0x2675cd)),X=class{constructor(_0x4d04d1,_0x2339f5,_0x230e63,_0xfc645,_0x337001){var _0x2147f4=_0x2d14a7;this['global']=_0x4d04d1,this['host']=_0x2339f5,this[_0x2147f4(0x1c5)]=_0x230e63,this['nodeModules']=_0xfc645,this[_0x2147f4(0x211)]=_0x337001,this['_allowedToSend']=!0x0,this[_0x2147f4(0x1bb)]=!0x0,this[_0x2147f4(0x1c0)]=!0x1,this['_connecting']=!0x1,this[_0x2147f4(0x19d)]=_0x4d04d1['process']?.['env']?.['NEXT_RUNTIME']===_0x2147f4(0x1c8),this[_0x2147f4(0x17a)]=!this[_0x2147f4(0x18c)][_0x2147f4(0x15c)]?.[_0x2147f4(0x17b)]?.[_0x2147f4(0x158)]&&!this[_0x2147f4(0x19d)],this[_0x2147f4(0x14b)]=null,this[_0x2147f4(0x198)]=0x0,this[_0x2147f4(0x200)]=0x14,this[_0x2147f4(0x1b5)]=_0x2147f4(0x1eb),this[_0x2147f4(0x1fd)]=(this['_inBrowser']?'Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help;\\x20also\\x20see\\x20':_0x2147f4(0x1ec))+this[_0x2147f4(0x1b5)];}async[_0x2d14a7(0x1c4)](){var _0x231aec=_0x2d14a7;if(this[_0x231aec(0x14b)])return this['_WebSocketClass'];let _0x5b6cdf;if(this[_0x231aec(0x17a)]||this[_0x231aec(0x19d)])_0x5b6cdf=this[_0x231aec(0x18c)][_0x231aec(0x204)];else{if(this[_0x231aec(0x18c)][_0x231aec(0x15c)]?.[_0x231aec(0x1c1)])_0x5b6cdf=this[_0x231aec(0x18c)][_0x231aec(0x15c)]?.[_0x231aec(0x1c1)];else try{let _0x1e2454=await import('path');_0x5b6cdf=(await import((await import('url'))['pathToFileURL'](_0x1e2454[_0x231aec(0x1cb)](this[_0x231aec(0x1e7)],'ws/index.js'))[_0x231aec(0x1d5)]()))[_0x231aec(0x16a)];}catch{try{_0x5b6cdf=require(require(_0x231aec(0x189))[_0x231aec(0x1cb)](this['nodeModules'],'ws'));}catch{throw new Error(_0x231aec(0x1ab));}}}return this[_0x231aec(0x14b)]=_0x5b6cdf,_0x5b6cdf;}[_0x2d14a7(0x175)](){var _0x1d2bfe=_0x2d14a7;this['_connecting']||this[_0x1d2bfe(0x1c0)]||this[_0x1d2bfe(0x198)]>=this[_0x1d2bfe(0x200)]||(this[_0x1d2bfe(0x1bb)]=!0x1,this['_connecting']=!0x0,this[_0x1d2bfe(0x198)]++,this['_ws']=new Promise((_0x3b2891,_0x4bdc5d)=>{var _0x4cd4a1=_0x1d2bfe;this[_0x4cd4a1(0x1c4)]()[_0x4cd4a1(0x1b8)](_0x47b075=>{var _0x482b47=_0x4cd4a1;let _0x3e7bfb=new _0x47b075(_0x482b47(0x181)+(!this[_0x482b47(0x17a)]&&this[_0x482b47(0x211)]?_0x482b47(0x205):this[_0x482b47(0x1b7)])+':'+this[_0x482b47(0x1c5)]);_0x3e7bfb[_0x482b47(0x13e)]=()=>{var _0x51615b=_0x482b47;this[_0x51615b(0x1a1)]=!0x1,this[_0x51615b(0x161)](_0x3e7bfb),this[_0x51615b(0x21f)](),_0x4bdc5d(new Error(_0x51615b(0x1c9)));},_0x3e7bfb[_0x482b47(0x1ba)]=()=>{var _0x5e833a=_0x482b47;this['_inBrowser']||_0x3e7bfb['_socket']&&_0x3e7bfb[_0x5e833a(0x153)][_0x5e833a(0x209)]&&_0x3e7bfb['_socket'][_0x5e833a(0x209)](),_0x3b2891(_0x3e7bfb);},_0x3e7bfb['onclose']=()=>{var _0x424ff3=_0x482b47;this[_0x424ff3(0x1bb)]=!0x0,this[_0x424ff3(0x161)](_0x3e7bfb),this[_0x424ff3(0x21f)]();},_0x3e7bfb[_0x482b47(0x1a6)]=_0x2c2dee=>{var _0x1f9b84=_0x482b47;try{_0x2c2dee&&_0x2c2dee[_0x1f9b84(0x1d0)]&&this['_inBrowser']&&JSON[_0x1f9b84(0x15d)](_0x2c2dee['data'])[_0x1f9b84(0x202)]==='reload'&&this[_0x1f9b84(0x18c)][_0x1f9b84(0x1ca)][_0x1f9b84(0x155)]();}catch{}};})['then'](_0x209f7b=>(this[_0x4cd4a1(0x1c0)]=!0x0,this[_0x4cd4a1(0x170)]=!0x1,this[_0x4cd4a1(0x1bb)]=!0x1,this['_allowedToSend']=!0x0,this['_connectAttemptCount']=0x0,_0x209f7b))[_0x4cd4a1(0x17d)](_0x174271=>(this[_0x4cd4a1(0x1c0)]=!0x1,this[_0x4cd4a1(0x170)]=!0x1,console[_0x4cd4a1(0x142)](_0x4cd4a1(0x149)+this[_0x4cd4a1(0x1b5)]),_0x4bdc5d(new Error(_0x4cd4a1(0x19c)+(_0x174271&&_0x174271[_0x4cd4a1(0x206)])))));}));}['_disposeWebsocket'](_0x2a2aa6){var _0x36040b=_0x2d14a7;this[_0x36040b(0x1c0)]=!0x1,this['_connecting']=!0x1;try{_0x2a2aa6[_0x36040b(0x1b0)]=null,_0x2a2aa6[_0x36040b(0x13e)]=null,_0x2a2aa6[_0x36040b(0x1ba)]=null;}catch{}try{_0x2a2aa6[_0x36040b(0x16d)]<0x2&&_0x2a2aa6[_0x36040b(0x13f)]();}catch{}}['_attemptToReconnectShortly'](){var _0x258be9=_0x2d14a7;clearTimeout(this[_0x258be9(0x13a)]),!(this[_0x258be9(0x198)]>=this[_0x258be9(0x200)])&&(this['_reconnectTimeout']=setTimeout(()=>{var _0x459b70=_0x258be9;this[_0x459b70(0x1c0)]||this['_connecting']||(this['_connectToHostNow'](),this[_0x459b70(0x184)]?.['catch'](()=>this[_0x459b70(0x21f)]()));},0x1f4),this[_0x258be9(0x13a)][_0x258be9(0x209)]&&this[_0x258be9(0x13a)][_0x258be9(0x209)]());}async[_0x2d14a7(0x20c)](_0x237c24){var _0x4854df=_0x2d14a7;try{if(!this[_0x4854df(0x1a1)])return;this[_0x4854df(0x1bb)]&&this[_0x4854df(0x175)](),(await this['_ws'])['send'](JSON[_0x4854df(0x1f6)](_0x237c24));}catch(_0x5cac75){console[_0x4854df(0x142)](this[_0x4854df(0x1fd)]+':\\x20'+(_0x5cac75&&_0x5cac75[_0x4854df(0x206)])),this[_0x4854df(0x1a1)]=!0x1,this[_0x4854df(0x21f)]();}}};function b(_0x24fb20,_0x4694d3,_0x1ec6e3,_0x27af02,_0x210668,_0x1117d8){var _0x1bf81b=_0x2d14a7;let _0x1c9d43=_0x1ec6e3[_0x1bf81b(0x177)](',')[_0x1bf81b(0x1e6)](_0x4bdb3c=>{var _0x3757c8=_0x1bf81b;try{_0x24fb20[_0x3757c8(0x203)]||((_0x210668===_0x3757c8(0x1d1)||_0x210668===_0x3757c8(0x222)||_0x210668===_0x3757c8(0x159)||_0x210668===_0x3757c8(0x199))&&(_0x210668+=!_0x24fb20[_0x3757c8(0x15c)]?.[_0x3757c8(0x17b)]?.[_0x3757c8(0x158)]&&_0x24fb20[_0x3757c8(0x15c)]?.['env']?.[_0x3757c8(0x1d4)]!==_0x3757c8(0x1c8)?_0x3757c8(0x152):_0x3757c8(0x17e)),_0x24fb20['_console_ninja_session']={'id':+new Date(),'tool':_0x210668});let _0x7be67=new X(_0x24fb20,_0x4694d3,_0x4bdb3c,_0x27af02,_0x1117d8);return _0x7be67[_0x3757c8(0x20c)][_0x3757c8(0x1dd)](_0x7be67);}catch(_0x4da211){return console['warn'](_0x3757c8(0x17f),_0x4da211&&_0x4da211[_0x3757c8(0x206)]),()=>{};}});return _0x2c02e9=>_0x1c9d43[_0x1bf81b(0x1ce)](_0x4204e3=>_0x4204e3(_0x2c02e9));}function W(_0x5a1b64){var _0x3abd9f=_0x2d14a7;let _0x46f407=function(_0x264edf,_0x1bc8ef){return _0x1bc8ef-_0x264edf;},_0x1d03ad;if(_0x5a1b64[_0x3abd9f(0x1d3)])_0x1d03ad=function(){var _0x5ddf90=_0x3abd9f;return _0x5a1b64[_0x5ddf90(0x1d3)][_0x5ddf90(0x143)]();};else{if(_0x5a1b64[_0x3abd9f(0x15c)]&&_0x5a1b64[_0x3abd9f(0x15c)][_0x3abd9f(0x150)]&&_0x5a1b64[_0x3abd9f(0x15c)]?.[_0x3abd9f(0x1d2)]?.[_0x3abd9f(0x1d4)]!==_0x3abd9f(0x1c8))_0x1d03ad=function(){var _0x5e6dcb=_0x3abd9f;return _0x5a1b64[_0x5e6dcb(0x15c)][_0x5e6dcb(0x150)]();},_0x46f407=function(_0x35f706,_0x109e33){return 0x3e8*(_0x109e33[0x0]-_0x35f706[0x0])+(_0x109e33[0x1]-_0x35f706[0x1])/0xf4240;};else try{let {performance:_0x5a8d6f}=require('perf_hooks');_0x1d03ad=function(){var _0x360519=_0x3abd9f;return _0x5a8d6f[_0x360519(0x143)]();};}catch{_0x1d03ad=function(){return+new Date();};}}return{'elapsed':_0x46f407,'timeStamp':_0x1d03ad,'now':()=>Date[_0x3abd9f(0x143)]()};}function J(_0x433bde,_0x349dc7,_0xd63c4a){var _0x3112a4=_0x2d14a7;if(_0x433bde[_0x3112a4(0x1dc)]!==void 0x0)return _0x433bde[_0x3112a4(0x1dc)];let _0x3ebc9a=_0x433bde[_0x3112a4(0x15c)]?.[_0x3112a4(0x17b)]?.[_0x3112a4(0x158)]||_0x433bde[_0x3112a4(0x15c)]?.[_0x3112a4(0x1d2)]?.[_0x3112a4(0x1d4)]==='edge';return _0x3ebc9a&&_0xd63c4a===_0x3112a4(0x13c)?_0x433bde[_0x3112a4(0x1dc)]=!0x1:_0x433bde[_0x3112a4(0x1dc)]=_0x3ebc9a||!_0x349dc7||_0x433bde['location']?.[_0x3112a4(0x1e5)]&&_0x349dc7['includes'](_0x433bde[_0x3112a4(0x1ca)][_0x3112a4(0x1e5)]),_0x433bde['_consoleNinjaAllowedToStart'];}function Y(_0x9ad357,_0x3d717a,_0x5e1cb6,_0x54fbb9){var _0x304e90=_0x2d14a7;_0x9ad357=_0x9ad357,_0x3d717a=_0x3d717a,_0x5e1cb6=_0x5e1cb6,_0x54fbb9=_0x54fbb9;let _0x520c58=W(_0x9ad357),_0x3eb90b=_0x520c58[_0x304e90(0x145)],_0x1729f5=_0x520c58[_0x304e90(0x156)];class _0x3ead97{constructor(){var _0xc0d9c4=_0x304e90;this['_keyStrRegExp']=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this[_0xc0d9c4(0x212)]=/^(0|[1-9][0-9]*)$/,this['_quotedRegExp']=/'([^\\\\']|\\\\')*'/,this['_undefined']=_0x9ad357[_0xc0d9c4(0x165)],this[_0xc0d9c4(0x19b)]=_0x9ad357[_0xc0d9c4(0x15a)],this['_getOwnPropertyDescriptor']=Object[_0xc0d9c4(0x1a9)],this[_0xc0d9c4(0x1a4)]=Object['getOwnPropertyNames'],this['_Symbol']=_0x9ad357['Symbol'],this['_regExpToString']=RegExp['prototype']['toString'],this['_dateToString']=Date[_0xc0d9c4(0x163)][_0xc0d9c4(0x1d5)];}[_0x304e90(0x1f2)](_0x3dbf8f,_0x1d262d,_0x3a230f,_0x18926d){var _0x5c60ed=_0x304e90,_0x4dd1bb=this,_0x40bb93=_0x3a230f[_0x5c60ed(0x21a)];function _0x522769(_0x3dccd3,_0x2ecc68,_0xdefc9){var _0x41a213=_0x5c60ed;_0x2ecc68[_0x41a213(0x219)]=_0x41a213(0x1fc),_0x2ecc68[_0x41a213(0x1d9)]=_0x3dccd3[_0x41a213(0x206)],_0x48f542=_0xdefc9[_0x41a213(0x158)][_0x41a213(0x1bc)],_0xdefc9['node'][_0x41a213(0x1bc)]=_0x2ecc68,_0x4dd1bb[_0x41a213(0x1e3)](_0x2ecc68,_0xdefc9);}try{_0x3a230f[_0x5c60ed(0x19e)]++,_0x3a230f[_0x5c60ed(0x21a)]&&_0x3a230f[_0x5c60ed(0x213)]['push'](_0x1d262d);var _0x3cbe82,_0x5c40b5,_0x5e6bd3,_0x507e14,_0x38b3d6=[],_0x23430e=[],_0x3ee3bc,_0x7cdd3b=this[_0x5c60ed(0x1c6)](_0x1d262d),_0x13d23d=_0x7cdd3b===_0x5c60ed(0x139),_0x109efb=!0x1,_0x38ae3b=_0x7cdd3b===_0x5c60ed(0x15e),_0x4a54c5=this[_0x5c60ed(0x174)](_0x7cdd3b),_0x16a345=this[_0x5c60ed(0x1d8)](_0x7cdd3b),_0x1c7443=_0x4a54c5||_0x16a345,_0x3e46c6={},_0x1eef65=0x0,_0x441b8e=!0x1,_0x48f542,_0xc15546=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x3a230f[_0x5c60ed(0x1af)]){if(_0x13d23d){if(_0x5c40b5=_0x1d262d[_0x5c60ed(0x1b3)],_0x5c40b5>_0x3a230f[_0x5c60ed(0x16f)]){for(_0x5e6bd3=0x0,_0x507e14=_0x3a230f[_0x5c60ed(0x16f)],_0x3cbe82=_0x5e6bd3;_0x3cbe82<_0x507e14;_0x3cbe82++)_0x23430e[_0x5c60ed(0x185)](_0x4dd1bb[_0x5c60ed(0x1ad)](_0x38b3d6,_0x1d262d,_0x7cdd3b,_0x3cbe82,_0x3a230f));_0x3dbf8f[_0x5c60ed(0x217)]=!0x0;}else{for(_0x5e6bd3=0x0,_0x507e14=_0x5c40b5,_0x3cbe82=_0x5e6bd3;_0x3cbe82<_0x507e14;_0x3cbe82++)_0x23430e[_0x5c60ed(0x185)](_0x4dd1bb[_0x5c60ed(0x1ad)](_0x38b3d6,_0x1d262d,_0x7cdd3b,_0x3cbe82,_0x3a230f));}_0x3a230f['autoExpandPropertyCount']+=_0x23430e['length'];}if(!(_0x7cdd3b===_0x5c60ed(0x1b4)||_0x7cdd3b===_0x5c60ed(0x165))&&!_0x4a54c5&&_0x7cdd3b!==_0x5c60ed(0x18b)&&_0x7cdd3b!==_0x5c60ed(0x216)&&_0x7cdd3b!==_0x5c60ed(0x21d)){var _0x1e7dbe=_0x18926d[_0x5c60ed(0x214)]||_0x3a230f[_0x5c60ed(0x214)];if(this[_0x5c60ed(0x16b)](_0x1d262d)?(_0x3cbe82=0x0,_0x1d262d[_0x5c60ed(0x1ce)](function(_0x228d63){var _0x386714=_0x5c60ed;if(_0x1eef65++,_0x3a230f['autoExpandPropertyCount']++,_0x1eef65>_0x1e7dbe){_0x441b8e=!0x0;return;}if(!_0x3a230f[_0x386714(0x197)]&&_0x3a230f[_0x386714(0x21a)]&&_0x3a230f[_0x386714(0x1aa)]>_0x3a230f[_0x386714(0x144)]){_0x441b8e=!0x0;return;}_0x23430e[_0x386714(0x185)](_0x4dd1bb[_0x386714(0x1ad)](_0x38b3d6,_0x1d262d,_0x386714(0x1d6),_0x3cbe82++,_0x3a230f,function(_0x25ad5c){return function(){return _0x25ad5c;};}(_0x228d63)));})):this[_0x5c60ed(0x1a3)](_0x1d262d)&&_0x1d262d[_0x5c60ed(0x1ce)](function(_0x3909d7,_0x191c4a){var _0x442a4f=_0x5c60ed;if(_0x1eef65++,_0x3a230f[_0x442a4f(0x1aa)]++,_0x1eef65>_0x1e7dbe){_0x441b8e=!0x0;return;}if(!_0x3a230f[_0x442a4f(0x197)]&&_0x3a230f[_0x442a4f(0x21a)]&&_0x3a230f[_0x442a4f(0x1aa)]>_0x3a230f['autoExpandLimit']){_0x441b8e=!0x0;return;}var _0x35abc3=_0x191c4a['toString']();_0x35abc3[_0x442a4f(0x1b3)]>0x64&&(_0x35abc3=_0x35abc3[_0x442a4f(0x1bd)](0x0,0x64)+_0x442a4f(0x160)),_0x23430e[_0x442a4f(0x185)](_0x4dd1bb[_0x442a4f(0x1ad)](_0x38b3d6,_0x1d262d,_0x442a4f(0x14e),_0x35abc3,_0x3a230f,function(_0x576243){return function(){return _0x576243;};}(_0x3909d7)));}),!_0x109efb){try{for(_0x3ee3bc in _0x1d262d)if(!(_0x13d23d&&_0xc15546['test'](_0x3ee3bc))&&!this['_blacklistedProperty'](_0x1d262d,_0x3ee3bc,_0x3a230f)){if(_0x1eef65++,_0x3a230f[_0x5c60ed(0x1aa)]++,_0x1eef65>_0x1e7dbe){_0x441b8e=!0x0;break;}if(!_0x3a230f[_0x5c60ed(0x197)]&&_0x3a230f['autoExpand']&&_0x3a230f['autoExpandPropertyCount']>_0x3a230f[_0x5c60ed(0x144)]){_0x441b8e=!0x0;break;}_0x23430e[_0x5c60ed(0x185)](_0x4dd1bb[_0x5c60ed(0x1fe)](_0x38b3d6,_0x3e46c6,_0x1d262d,_0x7cdd3b,_0x3ee3bc,_0x3a230f));}}catch{}if(_0x3e46c6['_p_length']=!0x0,_0x38ae3b&&(_0x3e46c6[_0x5c60ed(0x154)]=!0x0),!_0x441b8e){var _0x5450b6=[][_0x5c60ed(0x1f1)](this[_0x5c60ed(0x1a4)](_0x1d262d))[_0x5c60ed(0x1f1)](this[_0x5c60ed(0x191)](_0x1d262d));for(_0x3cbe82=0x0,_0x5c40b5=_0x5450b6[_0x5c60ed(0x1b3)];_0x3cbe82<_0x5c40b5;_0x3cbe82++)if(_0x3ee3bc=_0x5450b6[_0x3cbe82],!(_0x13d23d&&_0xc15546[_0x5c60ed(0x14a)](_0x3ee3bc[_0x5c60ed(0x1d5)]()))&&!this['_blacklistedProperty'](_0x1d262d,_0x3ee3bc,_0x3a230f)&&!_0x3e46c6['_p_'+_0x3ee3bc['toString']()]){if(_0x1eef65++,_0x3a230f['autoExpandPropertyCount']++,_0x1eef65>_0x1e7dbe){_0x441b8e=!0x0;break;}if(!_0x3a230f[_0x5c60ed(0x197)]&&_0x3a230f[_0x5c60ed(0x21a)]&&_0x3a230f[_0x5c60ed(0x1aa)]>_0x3a230f[_0x5c60ed(0x144)]){_0x441b8e=!0x0;break;}_0x23430e[_0x5c60ed(0x185)](_0x4dd1bb[_0x5c60ed(0x1fe)](_0x38b3d6,_0x3e46c6,_0x1d262d,_0x7cdd3b,_0x3ee3bc,_0x3a230f));}}}}}if(_0x3dbf8f[_0x5c60ed(0x219)]=_0x7cdd3b,_0x1c7443?(_0x3dbf8f[_0x5c60ed(0x1c7)]=_0x1d262d[_0x5c60ed(0x1e1)](),this[_0x5c60ed(0x1fb)](_0x7cdd3b,_0x3dbf8f,_0x3a230f,_0x18926d)):_0x7cdd3b===_0x5c60ed(0x1f8)?_0x3dbf8f[_0x5c60ed(0x1c7)]=this[_0x5c60ed(0x1b6)][_0x5c60ed(0x208)](_0x1d262d):_0x7cdd3b===_0x5c60ed(0x21d)?_0x3dbf8f[_0x5c60ed(0x1c7)]=_0x1d262d[_0x5c60ed(0x1d5)]():_0x7cdd3b===_0x5c60ed(0x14f)?_0x3dbf8f['value']=this['_regExpToString']['call'](_0x1d262d):_0x7cdd3b===_0x5c60ed(0x1f4)&&this['_Symbol']?_0x3dbf8f['value']=this[_0x5c60ed(0x1f7)]['prototype']['toString'][_0x5c60ed(0x208)](_0x1d262d):!_0x3a230f[_0x5c60ed(0x1af)]&&!(_0x7cdd3b==='null'||_0x7cdd3b===_0x5c60ed(0x165))&&(delete _0x3dbf8f[_0x5c60ed(0x1c7)],_0x3dbf8f[_0x5c60ed(0x147)]=!0x0),_0x441b8e&&(_0x3dbf8f[_0x5c60ed(0x157)]=!0x0),_0x48f542=_0x3a230f[_0x5c60ed(0x158)]['current'],_0x3a230f[_0x5c60ed(0x158)][_0x5c60ed(0x1bc)]=_0x3dbf8f,this[_0x5c60ed(0x1e3)](_0x3dbf8f,_0x3a230f),_0x23430e[_0x5c60ed(0x1b3)]){for(_0x3cbe82=0x0,_0x5c40b5=_0x23430e[_0x5c60ed(0x1b3)];_0x3cbe82<_0x5c40b5;_0x3cbe82++)_0x23430e[_0x3cbe82](_0x3cbe82);}_0x38b3d6[_0x5c60ed(0x1b3)]&&(_0x3dbf8f[_0x5c60ed(0x214)]=_0x38b3d6);}catch(_0x112b59){_0x522769(_0x112b59,_0x3dbf8f,_0x3a230f);}return this[_0x5c60ed(0x1f9)](_0x1d262d,_0x3dbf8f),this[_0x5c60ed(0x1ea)](_0x3dbf8f,_0x3a230f),_0x3a230f['node'][_0x5c60ed(0x1bc)]=_0x48f542,_0x3a230f['level']--,_0x3a230f[_0x5c60ed(0x21a)]=_0x40bb93,_0x3a230f[_0x5c60ed(0x21a)]&&_0x3a230f['autoExpandPreviousObjects'][_0x5c60ed(0x207)](),_0x3dbf8f;}['_getOwnPropertySymbols'](_0x35cc43){var _0x358f5a=_0x304e90;return Object[_0x358f5a(0x1e9)]?Object[_0x358f5a(0x1e9)](_0x35cc43):[];}['_isSet'](_0x1a3080){var _0x56be3d=_0x304e90;return!!(_0x1a3080&&_0x9ad357['Set']&&this[_0x56be3d(0x1b1)](_0x1a3080)===_0x56be3d(0x173)&&_0x1a3080[_0x56be3d(0x1ce)]);}[_0x304e90(0x1ff)](_0x136e77,_0x1791cd,_0x2d1d78){var _0x4d6870=_0x304e90;return _0x2d1d78[_0x4d6870(0x171)]?typeof _0x136e77[_0x1791cd]==_0x4d6870(0x15e):!0x1;}[_0x304e90(0x1c6)](_0x2a8345){var _0x2d7fa3=_0x304e90,_0x2a8401='';return _0x2a8401=typeof _0x2a8345,_0x2a8401==='object'?this[_0x2d7fa3(0x1b1)](_0x2a8345)==='[object\\x20Array]'?_0x2a8401=_0x2d7fa3(0x139):this['_objectToString'](_0x2a8345)===_0x2d7fa3(0x1e8)?_0x2a8401=_0x2d7fa3(0x1f8):this[_0x2d7fa3(0x1b1)](_0x2a8345)===_0x2d7fa3(0x221)?_0x2a8401=_0x2d7fa3(0x21d):_0x2a8345===null?_0x2a8401=_0x2d7fa3(0x1b4):_0x2a8345['constructor']&&(_0x2a8401=_0x2a8345['constructor'][_0x2d7fa3(0x17c)]||_0x2a8401):_0x2a8401===_0x2d7fa3(0x165)&&this[_0x2d7fa3(0x19b)]&&_0x2a8345 instanceof this[_0x2d7fa3(0x19b)]&&(_0x2a8401=_0x2d7fa3(0x15a)),_0x2a8401;}[_0x304e90(0x1b1)](_0x280f56){var _0x1ca50d=_0x304e90;return Object[_0x1ca50d(0x163)][_0x1ca50d(0x1d5)][_0x1ca50d(0x208)](_0x280f56);}[_0x304e90(0x174)](_0xf25c1){var _0x2bedef=_0x304e90;return _0xf25c1==='boolean'||_0xf25c1==='string'||_0xf25c1===_0x2bedef(0x20f);}[_0x304e90(0x1d8)](_0x32e84a){var _0x5b4cff=_0x304e90;return _0x32e84a===_0x5b4cff(0x16c)||_0x32e84a===_0x5b4cff(0x18b)||_0x32e84a==='Number';}[_0x304e90(0x1ad)](_0x35aa7a,_0x14560a,_0x4f633c,_0x5b5b8c,_0x4734d8,_0x1059bc){var _0x59f652=this;return function(_0x224e7c){var _0x45b5d9=_0x3a68,_0x1c1e7b=_0x4734d8[_0x45b5d9(0x158)][_0x45b5d9(0x1bc)],_0x3ec1c2=_0x4734d8[_0x45b5d9(0x158)][_0x45b5d9(0x192)],_0x13ed10=_0x4734d8['node'][_0x45b5d9(0x18d)];_0x4734d8['node'][_0x45b5d9(0x18d)]=_0x1c1e7b,_0x4734d8[_0x45b5d9(0x158)]['index']=typeof _0x5b5b8c==_0x45b5d9(0x20f)?_0x5b5b8c:_0x224e7c,_0x35aa7a[_0x45b5d9(0x185)](_0x59f652[_0x45b5d9(0x1a5)](_0x14560a,_0x4f633c,_0x5b5b8c,_0x4734d8,_0x1059bc)),_0x4734d8['node'][_0x45b5d9(0x18d)]=_0x13ed10,_0x4734d8[_0x45b5d9(0x158)]['index']=_0x3ec1c2;};}['_addObjectProperty'](_0x3be435,_0x584582,_0x4c42c3,_0x2b1f40,_0x44cc27,_0x4c5127,_0x47bd2d){var _0x5429ba=_0x304e90,_0xb26aea=this;return _0x584582[_0x5429ba(0x193)+_0x44cc27[_0x5429ba(0x1d5)]()]=!0x0,function(_0x3bad20){var _0x1a5c6e=_0x5429ba,_0x4aaa7a=_0x4c5127[_0x1a5c6e(0x158)][_0x1a5c6e(0x1bc)],_0xd55a6=_0x4c5127[_0x1a5c6e(0x158)][_0x1a5c6e(0x192)],_0x59a7b8=_0x4c5127['node']['parent'];_0x4c5127[_0x1a5c6e(0x158)][_0x1a5c6e(0x18d)]=_0x4aaa7a,_0x4c5127[_0x1a5c6e(0x158)][_0x1a5c6e(0x192)]=_0x3bad20,_0x3be435['push'](_0xb26aea[_0x1a5c6e(0x1a5)](_0x4c42c3,_0x2b1f40,_0x44cc27,_0x4c5127,_0x47bd2d)),_0x4c5127[_0x1a5c6e(0x158)]['parent']=_0x59a7b8,_0x4c5127[_0x1a5c6e(0x158)]['index']=_0xd55a6;};}[_0x304e90(0x1a5)](_0x351480,_0x31c25b,_0x2a9ba1,_0x99a8ad,_0x83cccb){var _0x23cfff=_0x304e90,_0x251de1=this;_0x83cccb||(_0x83cccb=function(_0x56d3f7,_0x151630){return _0x56d3f7[_0x151630];});var _0x47884e=_0x2a9ba1[_0x23cfff(0x1d5)](),_0x17feed=_0x99a8ad[_0x23cfff(0x146)]||{},_0x38d1e3=_0x99a8ad[_0x23cfff(0x1af)],_0x3ee2ee=_0x99a8ad[_0x23cfff(0x197)];try{var _0x514081=this['_isMap'](_0x351480),_0x384d89=_0x47884e;_0x514081&&_0x384d89[0x0]==='\\x27'&&(_0x384d89=_0x384d89[_0x23cfff(0x162)](0x1,_0x384d89[_0x23cfff(0x1b3)]-0x2));var _0x3f170a=_0x99a8ad[_0x23cfff(0x146)]=_0x17feed[_0x23cfff(0x193)+_0x384d89];_0x3f170a&&(_0x99a8ad[_0x23cfff(0x1af)]=_0x99a8ad['depth']+0x1),_0x99a8ad[_0x23cfff(0x197)]=!!_0x3f170a;var _0x741e72=typeof _0x2a9ba1==_0x23cfff(0x1f4),_0x4c85ec={'name':_0x741e72||_0x514081?_0x47884e:this[_0x23cfff(0x180)](_0x47884e)};if(_0x741e72&&(_0x4c85ec[_0x23cfff(0x1f4)]=!0x0),!(_0x31c25b===_0x23cfff(0x139)||_0x31c25b===_0x23cfff(0x1cd))){var _0x14c182=this['_getOwnPropertyDescriptor'](_0x351480,_0x2a9ba1);if(_0x14c182&&(_0x14c182['set']&&(_0x4c85ec['setter']=!0x0),_0x14c182[_0x23cfff(0x223)]&&!_0x3f170a&&!_0x99a8ad[_0x23cfff(0x1ac)]))return _0x4c85ec['getter']=!0x0,this[_0x23cfff(0x201)](_0x4c85ec,_0x99a8ad),_0x4c85ec;}var _0x3c99b7;try{_0x3c99b7=_0x83cccb(_0x351480,_0x2a9ba1);}catch(_0x3a4ee6){return _0x4c85ec={'name':_0x47884e,'type':_0x23cfff(0x1fc),'error':_0x3a4ee6['message']},this[_0x23cfff(0x201)](_0x4c85ec,_0x99a8ad),_0x4c85ec;}var _0x22bae3=this['_type'](_0x3c99b7),_0x386f24=this[_0x23cfff(0x174)](_0x22bae3);if(_0x4c85ec['type']=_0x22bae3,_0x386f24)this[_0x23cfff(0x201)](_0x4c85ec,_0x99a8ad,_0x3c99b7,function(){var _0x3c646e=_0x23cfff;_0x4c85ec[_0x3c646e(0x1c7)]=_0x3c99b7['valueOf'](),!_0x3f170a&&_0x251de1[_0x3c646e(0x1fb)](_0x22bae3,_0x4c85ec,_0x99a8ad,{});});else{var _0x1e3514=_0x99a8ad[_0x23cfff(0x21a)]&&_0x99a8ad[_0x23cfff(0x19e)]<_0x99a8ad[_0x23cfff(0x1e2)]&&_0x99a8ad['autoExpandPreviousObjects']['indexOf'](_0x3c99b7)<0x0&&_0x22bae3!==_0x23cfff(0x15e)&&_0x99a8ad[_0x23cfff(0x1aa)]<_0x99a8ad[_0x23cfff(0x144)];_0x1e3514||_0x99a8ad[_0x23cfff(0x19e)]<_0x38d1e3||_0x3f170a?(this[_0x23cfff(0x1f2)](_0x4c85ec,_0x3c99b7,_0x99a8ad,_0x3f170a||{}),this['_additionalMetadata'](_0x3c99b7,_0x4c85ec)):this[_0x23cfff(0x201)](_0x4c85ec,_0x99a8ad,_0x3c99b7,function(){var _0x5c369c=_0x23cfff;_0x22bae3===_0x5c369c(0x1b4)||_0x22bae3===_0x5c369c(0x165)||(delete _0x4c85ec[_0x5c369c(0x1c7)],_0x4c85ec[_0x5c369c(0x147)]=!0x0);});}return _0x4c85ec;}finally{_0x99a8ad[_0x23cfff(0x146)]=_0x17feed,_0x99a8ad[_0x23cfff(0x1af)]=_0x38d1e3,_0x99a8ad[_0x23cfff(0x197)]=_0x3ee2ee;}}['_capIfString'](_0x1bec91,_0x41ac1b,_0x3a9fb9,_0x4a0544){var _0x100101=_0x304e90,_0x58d68d=_0x4a0544[_0x100101(0x168)]||_0x3a9fb9[_0x100101(0x168)];if((_0x1bec91==='string'||_0x1bec91==='String')&&_0x41ac1b[_0x100101(0x1c7)]){let _0x7716e5=_0x41ac1b[_0x100101(0x1c7)][_0x100101(0x1b3)];_0x3a9fb9['allStrLength']+=_0x7716e5,_0x3a9fb9[_0x100101(0x14c)]>_0x3a9fb9[_0x100101(0x1a8)]?(_0x41ac1b[_0x100101(0x147)]='',delete _0x41ac1b[_0x100101(0x1c7)]):_0x7716e5>_0x58d68d&&(_0x41ac1b[_0x100101(0x147)]=_0x41ac1b[_0x100101(0x1c7)][_0x100101(0x162)](0x0,_0x58d68d),delete _0x41ac1b[_0x100101(0x1c7)]);}}[_0x304e90(0x1a3)](_0x17b7ed){var _0x398779=_0x304e90;return!!(_0x17b7ed&&_0x9ad357[_0x398779(0x14e)]&&this[_0x398779(0x1b1)](_0x17b7ed)===_0x398779(0x1da)&&_0x17b7ed['forEach']);}[_0x304e90(0x180)](_0x45a08d){var _0x55d9c4=_0x304e90;if(_0x45a08d[_0x55d9c4(0x15b)](/^\\d+$/))return _0x45a08d;var _0x718acb;try{_0x718acb=JSON['stringify'](''+_0x45a08d);}catch{_0x718acb='\\x22'+this[_0x55d9c4(0x1b1)](_0x45a08d)+'\\x22';}return _0x718acb[_0x55d9c4(0x15b)](/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?_0x718acb=_0x718acb[_0x55d9c4(0x162)](0x1,_0x718acb[_0x55d9c4(0x1b3)]-0x2):_0x718acb=_0x718acb[_0x55d9c4(0x210)](/'/g,'\\x5c\\x27')['replace'](/\\\\"/g,'\\x22')['replace'](/(^"|"$)/g,'\\x27'),_0x718acb;}[_0x304e90(0x201)](_0x361967,_0x147672,_0x1958e1,_0x1e2fcd){var _0x17df1f=_0x304e90;this[_0x17df1f(0x1e3)](_0x361967,_0x147672),_0x1e2fcd&&_0x1e2fcd(),this[_0x17df1f(0x1f9)](_0x1958e1,_0x361967),this[_0x17df1f(0x1ea)](_0x361967,_0x147672);}[_0x304e90(0x1e3)](_0x51a7ac,_0x4cefd0){var _0x49f455=_0x304e90;this[_0x49f455(0x1d7)](_0x51a7ac,_0x4cefd0),this[_0x49f455(0x13b)](_0x51a7ac,_0x4cefd0),this[_0x49f455(0x13d)](_0x51a7ac,_0x4cefd0),this[_0x49f455(0x1be)](_0x51a7ac,_0x4cefd0);}[_0x304e90(0x1d7)](_0xbf34d4,_0x377140){}[_0x304e90(0x13b)](_0x5a354a,_0xcbb882){}[_0x304e90(0x186)](_0x2a3a20,_0x1d7a2a){}[_0x304e90(0x151)](_0x3c8eee){return _0x3c8eee===this['_undefined'];}[_0x304e90(0x1ea)](_0x1cce4e,_0x3d18ba){var _0xe9446c=_0x304e90;this[_0xe9446c(0x186)](_0x1cce4e,_0x3d18ba),this[_0xe9446c(0x141)](_0x1cce4e),_0x3d18ba[_0xe9446c(0x1de)]&&this['_sortProps'](_0x1cce4e),this[_0xe9446c(0x19a)](_0x1cce4e,_0x3d18ba),this[_0xe9446c(0x20d)](_0x1cce4e,_0x3d18ba),this[_0xe9446c(0x14d)](_0x1cce4e);}['_additionalMetadata'](_0x5edd3b,_0x4fdec5){var _0x1387f6=_0x304e90;let _0x208cdd;try{_0x9ad357[_0x1387f6(0x18a)]&&(_0x208cdd=_0x9ad357[_0x1387f6(0x18a)][_0x1387f6(0x1d9)],_0x9ad357['console'][_0x1387f6(0x1d9)]=function(){}),_0x5edd3b&&typeof _0x5edd3b['length']==_0x1387f6(0x20f)&&(_0x4fdec5[_0x1387f6(0x1b3)]=_0x5edd3b[_0x1387f6(0x1b3)]);}catch{}finally{_0x208cdd&&(_0x9ad357[_0x1387f6(0x18a)][_0x1387f6(0x1d9)]=_0x208cdd);}if(_0x4fdec5['type']===_0x1387f6(0x20f)||_0x4fdec5[_0x1387f6(0x219)]===_0x1387f6(0x1bf)){if(isNaN(_0x4fdec5['value']))_0x4fdec5['nan']=!0x0,delete _0x4fdec5[_0x1387f6(0x1c7)];else switch(_0x4fdec5[_0x1387f6(0x1c7)]){case Number[_0x1387f6(0x15f)]:_0x4fdec5[_0x1387f6(0x187)]=!0x0,delete _0x4fdec5['value'];break;case Number[_0x1387f6(0x218)]:_0x4fdec5['negativeInfinity']=!0x0,delete _0x4fdec5[_0x1387f6(0x1c7)];break;case 0x0:this[_0x1387f6(0x164)](_0x4fdec5['value'])&&(_0x4fdec5[_0x1387f6(0x1ef)]=!0x0);break;}}else _0x4fdec5[_0x1387f6(0x219)]===_0x1387f6(0x15e)&&typeof _0x5edd3b['name']==_0x1387f6(0x1b9)&&_0x5edd3b[_0x1387f6(0x17c)]&&_0x4fdec5[_0x1387f6(0x17c)]&&_0x5edd3b[_0x1387f6(0x17c)]!==_0x4fdec5[_0x1387f6(0x17c)]&&(_0x4fdec5[_0x1387f6(0x1ed)]=_0x5edd3b[_0x1387f6(0x17c)]);}[_0x304e90(0x164)](_0x27fc2f){var _0x130438=_0x304e90;return 0x1/_0x27fc2f===Number[_0x130438(0x218)];}[_0x304e90(0x169)](_0x2c1248){var _0x450466=_0x304e90;!_0x2c1248[_0x450466(0x214)]||!_0x2c1248[_0x450466(0x214)]['length']||_0x2c1248['type']===_0x450466(0x139)||_0x2c1248[_0x450466(0x219)]==='Map'||_0x2c1248[_0x450466(0x219)]==='Set'||_0x2c1248['props'][_0x450466(0x190)](function(_0x1d6d71,_0x1ac367){var _0x95338e=_0x450466,_0x190c4a=_0x1d6d71['name'][_0x95338e(0x220)](),_0x3a407e=_0x1ac367['name'][_0x95338e(0x220)]();return _0x190c4a<_0x3a407e?-0x1:_0x190c4a>_0x3a407e?0x1:0x0;});}[_0x304e90(0x19a)](_0x55e8b8,_0x5ec8eb){var _0x301c60=_0x304e90;if(!(_0x5ec8eb[_0x301c60(0x171)]||!_0x55e8b8[_0x301c60(0x214)]||!_0x55e8b8[_0x301c60(0x214)][_0x301c60(0x1b3)])){for(var _0x419543=[],_0x26244=[],_0x19bcd7=0x0,_0x5a191f=_0x55e8b8[_0x301c60(0x214)][_0x301c60(0x1b3)];_0x19bcd7<_0x5a191f;_0x19bcd7++){var _0x29fd22=_0x55e8b8['props'][_0x19bcd7];_0x29fd22[_0x301c60(0x219)]===_0x301c60(0x15e)?_0x419543['push'](_0x29fd22):_0x26244[_0x301c60(0x185)](_0x29fd22);}if(!(!_0x26244[_0x301c60(0x1b3)]||_0x419543[_0x301c60(0x1b3)]<=0x1)){_0x55e8b8[_0x301c60(0x214)]=_0x26244;var _0x461511={'functionsNode':!0x0,'props':_0x419543};this[_0x301c60(0x1d7)](_0x461511,_0x5ec8eb),this[_0x301c60(0x186)](_0x461511,_0x5ec8eb),this[_0x301c60(0x141)](_0x461511),this[_0x301c60(0x1be)](_0x461511,_0x5ec8eb),_0x461511['id']+='\\x20f',_0x55e8b8[_0x301c60(0x214)]['unshift'](_0x461511);}}}[_0x304e90(0x20d)](_0x475262,_0x309c08){}['_setNodeExpandableState'](_0x1ad24d){}[_0x304e90(0x182)](_0x4841c1){var _0x5918bf=_0x304e90;return Array[_0x5918bf(0x183)](_0x4841c1)||typeof _0x4841c1==_0x5918bf(0x194)&&this[_0x5918bf(0x1b1)](_0x4841c1)===_0x5918bf(0x172);}[_0x304e90(0x1be)](_0x3bb74f,_0x462ed5){}['_cleanNode'](_0x35024c){var _0x251629=_0x304e90;delete _0x35024c[_0x251629(0x21c)],delete _0x35024c[_0x251629(0x167)],delete _0x35024c[_0x251629(0x1ee)];}['_setNodeExpressionPath'](_0x53ebc3,_0x187494){}}let _0x1d9175=new _0x3ead97(),_0x15097c={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x2a9927={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2};function _0x455e61(_0x53021b,_0x28c969,_0x59ffd0,_0x5dd239,_0x5d1f9f,_0x582c85){var _0x36d120=_0x304e90;let _0x53738a,_0x4b6ccb;try{_0x4b6ccb=_0x1729f5(),_0x53738a=_0x5e1cb6[_0x28c969],!_0x53738a||_0x4b6ccb-_0x53738a['ts']>0x1f4&&_0x53738a[_0x36d120(0x19f)]&&_0x53738a['time']/_0x53738a[_0x36d120(0x19f)]<0x64?(_0x5e1cb6[_0x28c969]=_0x53738a={'count':0x0,'time':0x0,'ts':_0x4b6ccb},_0x5e1cb6[_0x36d120(0x176)]={}):_0x4b6ccb-_0x5e1cb6['hits']['ts']>0x32&&_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x19f)]&&_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x1c2)]/_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x19f)]<0x64&&(_0x5e1cb6[_0x36d120(0x176)]={});let _0x480165=[],_0x4a5a23=_0x53738a[_0x36d120(0x1a2)]||_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x1a2)]?_0x2a9927:_0x15097c,_0x3f582c=_0x1714a9=>{var _0x558730=_0x36d120;let _0x16c969={};return _0x16c969[_0x558730(0x214)]=_0x1714a9[_0x558730(0x214)],_0x16c969[_0x558730(0x16f)]=_0x1714a9[_0x558730(0x16f)],_0x16c969['strLength']=_0x1714a9[_0x558730(0x168)],_0x16c969[_0x558730(0x1a8)]=_0x1714a9['totalStrLength'],_0x16c969[_0x558730(0x144)]=_0x1714a9[_0x558730(0x144)],_0x16c969['autoExpandMaxDepth']=_0x1714a9[_0x558730(0x1e2)],_0x16c969[_0x558730(0x1de)]=!0x1,_0x16c969['noFunctions']=!_0x3d717a,_0x16c969[_0x558730(0x1af)]=0x1,_0x16c969[_0x558730(0x19e)]=0x0,_0x16c969[_0x558730(0x16e)]=_0x558730(0x178),_0x16c969[_0x558730(0x1b2)]='root_exp',_0x16c969[_0x558730(0x21a)]=!0x0,_0x16c969[_0x558730(0x213)]=[],_0x16c969[_0x558730(0x1aa)]=0x0,_0x16c969[_0x558730(0x1ac)]=!0x0,_0x16c969['allStrLength']=0x0,_0x16c969[_0x558730(0x158)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x16c969;};for(var _0x1c2677=0x0;_0x1c2677<_0x5d1f9f[_0x36d120(0x1b3)];_0x1c2677++)_0x480165[_0x36d120(0x185)](_0x1d9175[_0x36d120(0x1f2)]({'timeNode':_0x53021b===_0x36d120(0x1c2)||void 0x0},_0x5d1f9f[_0x1c2677],_0x3f582c(_0x4a5a23),{}));if(_0x53021b===_0x36d120(0x188)){let _0x346c0f=Error[_0x36d120(0x195)];try{Error[_0x36d120(0x195)]=0x1/0x0,_0x480165['push'](_0x1d9175[_0x36d120(0x1f2)]({'stackNode':!0x0},new Error()['stack'],_0x3f582c(_0x4a5a23),{'strLength':0x1/0x0}));}finally{Error[_0x36d120(0x195)]=_0x346c0f;}}return{'method':_0x36d120(0x1cf),'version':_0x54fbb9,'args':[{'ts':_0x59ffd0,'session':_0x5dd239,'args':_0x480165,'id':_0x28c969,'context':_0x582c85}]};}catch(_0x413d56){return{'method':_0x36d120(0x1cf),'version':_0x54fbb9,'args':[{'ts':_0x59ffd0,'session':_0x5dd239,'args':[{'type':_0x36d120(0x1fc),'error':_0x413d56&&_0x413d56[_0x36d120(0x206)]}],'id':_0x28c969,'context':_0x582c85}]};}finally{try{if(_0x53738a&&_0x4b6ccb){let _0x3c4f85=_0x1729f5();_0x53738a[_0x36d120(0x19f)]++,_0x53738a[_0x36d120(0x1c2)]+=_0x3eb90b(_0x4b6ccb,_0x3c4f85),_0x53738a['ts']=_0x3c4f85,_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x19f)]++,_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x1c2)]+=_0x3eb90b(_0x4b6ccb,_0x3c4f85),_0x5e1cb6['hits']['ts']=_0x3c4f85,(_0x53738a[_0x36d120(0x19f)]>0x32||_0x53738a[_0x36d120(0x1c2)]>0x64)&&(_0x53738a[_0x36d120(0x1a2)]=!0x0),(_0x5e1cb6['hits'][_0x36d120(0x19f)]>0x3e8||_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x1c2)]>0x12c)&&(_0x5e1cb6[_0x36d120(0x176)][_0x36d120(0x1a2)]=!0x0);}}catch{}}}return _0x455e61;}((_0x181d45,_0x357087,_0x4d3224,_0x58b50a,_0x5023c3,_0x1ba227,_0xc6a986,_0x2abd1e,_0x2d078a,_0x1f13c8)=>{var _0x5b1661=_0x2d14a7;if(_0x181d45[_0x5b1661(0x1e4)])return _0x181d45[_0x5b1661(0x1e4)];if(!J(_0x181d45,_0x2abd1e,_0x5023c3))return _0x181d45[_0x5b1661(0x1e4)]={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoLogMany':()=>{},'autoTraceMany':()=>{},'coverage':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x181d45['_console_ninja'];let _0x3e0191=W(_0x181d45),_0x5b8323=_0x3e0191['elapsed'],_0x5140e5=_0x3e0191[_0x5b1661(0x156)],_0x24d7c6=_0x3e0191['now'],_0x7b0146={'hits':{},'ts':{}},_0x221396=Y(_0x181d45,_0x2d078a,_0x7b0146,_0x1ba227),_0x338f26=_0x51ac38=>{_0x7b0146['ts'][_0x51ac38]=_0x5140e5();},_0xd2cdfc=(_0x167781,_0x11f8e1)=>{var _0x38d032=_0x5b1661;let _0x30d058=_0x7b0146['ts'][_0x11f8e1];if(delete _0x7b0146['ts'][_0x11f8e1],_0x30d058){let _0x45d555=_0x5b8323(_0x30d058,_0x5140e5());_0x5037e5(_0x221396(_0x38d032(0x1c2),_0x167781,_0x24d7c6(),_0x5d6e6f,[_0x45d555],_0x11f8e1));}},_0x361275=_0x57bec7=>_0x2d5366=>{var _0x1b0b85=_0x5b1661;try{_0x338f26(_0x2d5366),_0x57bec7(_0x2d5366);}finally{_0x181d45[_0x1b0b85(0x18a)][_0x1b0b85(0x1c2)]=_0x57bec7;}},_0x585ba1=_0x24a0eb=>_0x144275=>{var _0x32fa52=_0x5b1661;try{let [_0x11cf23,_0x538abb]=_0x144275['split'](_0x32fa52(0x21e));_0xd2cdfc(_0x538abb,_0x11cf23),_0x24a0eb(_0x11cf23);}finally{_0x181d45[_0x32fa52(0x18a)][_0x32fa52(0x1f3)]=_0x24a0eb;}};_0x181d45[_0x5b1661(0x1e4)]={'consoleLog':(_0x3e3af1,_0x159f7b)=>{var _0x1c3fff=_0x5b1661;_0x181d45['console'][_0x1c3fff(0x1cf)][_0x1c3fff(0x17c)]!==_0x1c3fff(0x1df)&&_0x5037e5(_0x221396(_0x1c3fff(0x1cf),_0x3e3af1,_0x24d7c6(),_0x5d6e6f,_0x159f7b));},'consoleTrace':(_0x218c30,_0x5b6e65)=>{var _0x36a7c2=_0x5b1661;_0x181d45['console']['log'][_0x36a7c2(0x17c)]!==_0x36a7c2(0x1f5)&&_0x5037e5(_0x221396(_0x36a7c2(0x188),_0x218c30,_0x24d7c6(),_0x5d6e6f,_0x5b6e65));},'consoleTime':()=>{var _0x10af2d=_0x5b1661;_0x181d45[_0x10af2d(0x18a)][_0x10af2d(0x1c2)]=_0x361275(_0x181d45[_0x10af2d(0x18a)]['time']);},'consoleTimeEnd':()=>{var _0x5cf9dc=_0x5b1661;_0x181d45[_0x5cf9dc(0x18a)]['timeEnd']=_0x585ba1(_0x181d45['console'][_0x5cf9dc(0x1f3)]);},'autoLog':(_0x2abc70,_0x1f5cf4)=>{var _0x2011d2=_0x5b1661;_0x5037e5(_0x221396(_0x2011d2(0x1cf),_0x1f5cf4,_0x24d7c6(),_0x5d6e6f,[_0x2abc70]));},'autoLogMany':(_0x3d35f5,_0x55485a)=>{var _0x5f21e5=_0x5b1661;_0x5037e5(_0x221396(_0x5f21e5(0x1cf),_0x3d35f5,_0x24d7c6(),_0x5d6e6f,_0x55485a));},'autoTrace':(_0x38240e,_0x15a4fa)=>{var _0x155793=_0x5b1661;_0x5037e5(_0x221396(_0x155793(0x188),_0x15a4fa,_0x24d7c6(),_0x5d6e6f,[_0x38240e]));},'autoTraceMany':(_0x360908,_0x1fad65)=>{var _0x51358b=_0x5b1661;_0x5037e5(_0x221396(_0x51358b(0x188),_0x360908,_0x24d7c6(),_0x5d6e6f,_0x1fad65));},'autoTime':(_0x21f452,_0x3e7343,_0x5cf347)=>{_0x338f26(_0x5cf347);},'autoTimeEnd':(_0x13a82d,_0xc9b1d1,_0x43ed90)=>{_0xd2cdfc(_0xc9b1d1,_0x43ed90);},'coverage':_0xaca707=>{var _0x5095e3=_0x5b1661;_0x5037e5({'method':_0x5095e3(0x179),'version':_0x1ba227,'args':[{'id':_0xaca707}]});}};let _0x5037e5=b(_0x181d45,_0x357087,_0x4d3224,_0x58b50a,_0x5023c3,_0x1f13c8),_0x5d6e6f=_0x181d45['_console_ninja_session'];return _0x181d45[_0x5b1661(0x1e4)];})(globalThis,_0x2d14a7(0x148),_0x2d14a7(0x1ae),"c:\\\\Users\\\\david_3hl9vpw\\\\.vscode\\\\extensions\\\\wallabyjs.console-ninja-1.0.284\\\\node_modules",_0x2d14a7(0x18e),'1.0.0',_0x2d14a7(0x20a),["localhost","127.0.0.1","example.cypress.io","PC_Celia_David","192.168.1.2","192.168.56.1"],_0x2d14a7(0x20b),'');`)}catch{}}function Me(a,...r){try{De().consoleLog(a,r)}catch{}return r}export{tt as a,Te as b,lt as c};
